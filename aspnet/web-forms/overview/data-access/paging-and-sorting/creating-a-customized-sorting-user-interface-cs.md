---
uid: web-forms/overview/data-access/paging-and-sorting/creating-a-customized-sorting-user-interface-cs
title: 建立自訂排序的使用者介面 (C#) |Microsoft 文件
author: rick-anderson
description: 當顯示一長串的已排序資料時，它可以是很有幫助藉由引進分隔符號資料列群組相關的資料。 在本教學課程中我們會看到如何建立...
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/15/2006
ms.topic: article
ms.assetid: 6f81b633-9d01-4e52-ae4a-2ea6bc109475
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting/creating-a-customized-sorting-user-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: c2680f5e47883c9d5fa874a36eb666270c5e406a
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/06/2018
ms.locfileid: "30885818"
---
<a name="creating-a-customized-sorting-user-interface-c"></a><span data-ttu-id="d48e7-104">建立自訂排序的使用者介面 (C#)</span><span class="sxs-lookup"><span data-stu-id="d48e7-104">Creating a Customized Sorting User Interface (C#)</span></span>
====================
<span data-ttu-id="d48e7-105">由[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d48e7-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d48e7-106">[下載範例應用程式](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_27_CS.exe)或[下載 PDF](creating-a-customized-sorting-user-interface-cs/_static/datatutorial27cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d48e7-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_27_CS.exe) or [Download PDF](creating-a-customized-sorting-user-interface-cs/_static/datatutorial27cs1.pdf)</span></span>

> <span data-ttu-id="d48e7-107">當顯示一長串的已排序資料時，它可以是很有幫助藉由引進分隔符號資料列群組相關的資料。</span><span class="sxs-lookup"><span data-stu-id="d48e7-107">When displaying a long list of sorted data, it can be very helpful to group related data by introducing separator rows.</span></span> <span data-ttu-id="d48e7-108">在本教學課程中，我們會看到如何建立這類排序的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="d48e7-108">In this tutorial we'll see how to create such a sorting user interface.</span></span>


## <a name="introduction"></a><span data-ttu-id="d48e7-109">簡介</span><span class="sxs-lookup"><span data-stu-id="d48e7-109">Introduction</span></span>

<span data-ttu-id="d48e7-110">顯示一長串的排序資料時有少數幾個不同的值已排序的資料行中，使用者可能會發現很難分辨，完全，差異界限發生。</span><span class="sxs-lookup"><span data-stu-id="d48e7-110">When displaying a long list of sorted data where there are only a handful of different values in the sorted column, an end user might find it hard to discern where, exactly, the difference boundaries occur.</span></span> <span data-ttu-id="d48e7-111">例如，有在資料庫中，但只有 9 個不同的類別目錄選擇 81 產品 (八個唯一類別加上`NULL`選項)。</span><span class="sxs-lookup"><span data-stu-id="d48e7-111">For example, there are 81 products in the database, but only nine different category choices (eight unique categories plus the `NULL` option).</span></span> <span data-ttu-id="d48e7-112">請檢查 Seafood 種類的產品感興趣的使用者。</span><span class="sxs-lookup"><span data-stu-id="d48e7-112">Consider the case of a user who is interested in examining the products that fall under the Seafood category.</span></span> <span data-ttu-id="d48e7-113">從頁面，其中列出*所有*單一 GridView 中的產品，使用者可能會決定其最好是在排序依據類別、 群組在一起的結果所有 Seafood 產品放在一起。</span><span class="sxs-lookup"><span data-stu-id="d48e7-113">From a page that lists *all* of the products in a single GridView, the user might decide her best bet is to sort the results by category, which will group together all of the Seafood products together.</span></span> <span data-ttu-id="d48e7-114">完成排序之後的分類，然後使用者必須以搜尋整個清單，尋找其中的 Seafood 分組產品開始和結束。</span><span class="sxs-lookup"><span data-stu-id="d48e7-114">After sorting by category, the user then needs to hunt through the list, looking for where the Seafood-grouped products start and end.</span></span> <span data-ttu-id="d48e7-115">因為結果會依字母順序排序尋找 Seafood 產品類別目錄名稱並不困難，但仍需要密切掃描的方格中的項目清單。</span><span class="sxs-lookup"><span data-stu-id="d48e7-115">Since the results are ordered alphabetically by the category name finding the Seafood products is not difficult, but it still requires closely scanning the list of items in the grid.</span></span>

<span data-ttu-id="d48e7-116">反白顯示已排序的群組之間的界限採用，以協助許多網站的使用者介面，將此類群組之間的分隔符號。</span><span class="sxs-lookup"><span data-stu-id="d48e7-116">To help highlight the boundaries between sorted groups, many websites employ a user interface that adds a separator between such groups.</span></span> <span data-ttu-id="d48e7-117">圖 1 所示的分隔頁可讓使用者更快速地尋找特定的群組和識別其界限，以及確定資料中存在哪些不同的群組。</span><span class="sxs-lookup"><span data-stu-id="d48e7-117">Separators like the ones shown in Figure 1 enables a user to more quickly find a particular group and identify its boundaries, as well as ascertain what distinct groups exist in the data.</span></span>


<span data-ttu-id="d48e7-118">[![每個類別目錄群組是清楚識別](creating-a-customized-sorting-user-interface-cs/_static/image2.png)](creating-a-customized-sorting-user-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d48e7-118">[![Each Category Group is Clearly Identified](creating-a-customized-sorting-user-interface-cs/_static/image2.png)](creating-a-customized-sorting-user-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="d48e7-119">**圖 1**： 每個類別目錄群組是清楚識別 ([按一下以檢視完整大小的影像](creating-a-customized-sorting-user-interface-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d48e7-119">**Figure 1**: Each Category Group is Clearly Identified ([Click to view full-size image](creating-a-customized-sorting-user-interface-cs/_static/image3.png))</span></span>


<span data-ttu-id="d48e7-120">在本教學課程中，我們會看到如何建立這類排序的使用者介面。</span><span class="sxs-lookup"><span data-stu-id="d48e7-120">In this tutorial we'll see how to create such a sorting user interface.</span></span>

## <a name="step-1-creating-a-standard-sortable-gridview"></a><span data-ttu-id="d48e7-121">步驟 1： 建立標準、 可排序的 GridView</span><span class="sxs-lookup"><span data-stu-id="d48e7-121">Step 1: Creating a Standard, Sortable GridView</span></span>

<span data-ttu-id="d48e7-122">我們探討如何加強提供增強的排序介面 GridView 之前，可讓第一次建立列出產品的標準、 可排序 GridView。</span><span class="sxs-lookup"><span data-stu-id="d48e7-122">Before we explore how to augment the GridView to provide the enhanced sorting interface, let s first create a standard, sortable GridView that lists the products.</span></span> <span data-ttu-id="d48e7-123">先開啟`CustomSortingUI.aspx`頁面`PagingAndSorting`資料夾。</span><span class="sxs-lookup"><span data-stu-id="d48e7-123">Start by opening the `CustomSortingUI.aspx` page in the `PagingAndSorting` folder.</span></span> <span data-ttu-id="d48e7-124">將 GridView 加入頁面，設定其`ID`屬性`ProductList`，並將它繫結至新 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="d48e7-124">Add a GridView to the page, set its `ID` property to `ProductList`, and bind it to a new ObjectDataSource.</span></span> <span data-ttu-id="d48e7-125">設定用於 ObjectDataSource`ProductsBLL`類別的`GetProducts()`選取記錄方法。</span><span class="sxs-lookup"><span data-stu-id="d48e7-125">Configure the ObjectDataSource to use the `ProductsBLL` class s `GetProducts()` method for selecting records.</span></span>

<span data-ttu-id="d48e7-126">接下來，設定 GridView，使其只包含`ProductName`， `CategoryName`， `SupplierName`，和`UnitPrice`BoundFields 及其已停止。</span><span class="sxs-lookup"><span data-stu-id="d48e7-126">Next, configure the GridView such that it only contains the `ProductName`, `CategoryName`, `SupplierName`, and `UnitPrice` BoundFields and the Discontinued CheckBoxField.</span></span> <span data-ttu-id="d48e7-127">最後，設定 GridView 支援排序，藉由檢查 GridView s 智慧標籤的 啟用排序核取方塊 (或藉由設定其`AllowSorting`屬性`true`)。</span><span class="sxs-lookup"><span data-stu-id="d48e7-127">Finally, configure the GridView to support sorting by checking the Enable Sorting checkbox in the GridView s smart tag (or by setting its `AllowSorting` property to `true`).</span></span> <span data-ttu-id="d48e7-128">進行這些新增項目後`CustomSortingUI.aspx` 頁面上，宣告式標記看起來應該類似下列：</span><span class="sxs-lookup"><span data-stu-id="d48e7-128">After making these additions to the `CustomSortingUI.aspx` page, the declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](creating-a-customized-sorting-user-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="d48e7-129">請花一點時間為止的瀏覽器中檢視進度。</span><span class="sxs-lookup"><span data-stu-id="d48e7-129">Take a moment to view our progress thus far in a browser.</span></span> <span data-ttu-id="d48e7-130">圖 2 顯示可排序 GridView，其資料依類別目錄依字母順序排序時。</span><span class="sxs-lookup"><span data-stu-id="d48e7-130">Figure 2 shows the sortable GridView when its data is sorted by category in alphabetical order.</span></span>


<span data-ttu-id="d48e7-131">[![可排序 GridView s 類別目錄排序資料](creating-a-customized-sorting-user-interface-cs/_static/image5.png)](creating-a-customized-sorting-user-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d48e7-131">[![The Sortable GridView s Data is Ordered by Category](creating-a-customized-sorting-user-interface-cs/_static/image5.png)](creating-a-customized-sorting-user-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="d48e7-132">**圖 2**： 依分類排序資料的可排序 w s ([按一下以檢視完整大小的影像](creating-a-customized-sorting-user-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d48e7-132">**Figure 2**: The Sortable GridView s Data is Ordered by Category ([Click to view full-size image](creating-a-customized-sorting-user-interface-cs/_static/image6.png))</span></span>


## <a name="step-2-exploring-techniques-for-adding-the-separator-rows"></a><span data-ttu-id="d48e7-133">步驟 2： 加入分隔符號資料列探索技術</span><span class="sxs-lookup"><span data-stu-id="d48e7-133">Step 2: Exploring Techniques for Adding the Separator Rows</span></span>

<span data-ttu-id="d48e7-134">與泛型、 可排序 GridView 完整，所有剩下的都只有能夠在每個唯一的排序群組之前 GridView 加入分隔符號資料列。</span><span class="sxs-lookup"><span data-stu-id="d48e7-134">With the generic, sortable GridView complete, all that remains is to be able to add the separator rows in the GridView before each unique sorted group.</span></span> <span data-ttu-id="d48e7-135">不過，如何這類資料列插入 GridView 嗎？</span><span class="sxs-lookup"><span data-stu-id="d48e7-135">But how can such rows be injected into the GridView?</span></span> <span data-ttu-id="d48e7-136">基本上，我們需要來逐一查看的 GridView s 資料列，判斷其中的差異中各值之間的已排序的資料行，然後再加入適當的分隔符號資料列。</span><span class="sxs-lookup"><span data-stu-id="d48e7-136">Essentially, we need to iterate through the GridView s rows, determine where the differences occur between the values in the sorted column, and then add the appropriate separator row.</span></span> <span data-ttu-id="d48e7-137">考慮這個問題，您似乎自然方案某處在於 GridView 的`RowDataBound`事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="d48e7-137">When thinking about this problem, it seems natural that the solution lies somewhere in the GridView s `RowDataBound` event handler.</span></span> <span data-ttu-id="d48e7-138">如我們所述[自訂格式化時資料](../custom-formatting/custom-formatting-based-upon-data-cs.md)教學課程，此事件處理常式通常使用於套用格式設定資料列層級根據 s 資料列的資料。</span><span class="sxs-lookup"><span data-stu-id="d48e7-138">As we discussed in the [Custom Formatting Based Upon Data](../custom-formatting/custom-formatting-based-upon-data-cs.md) tutorial, this event handler is commonly used when applying row-level formatting based on the row s data.</span></span> <span data-ttu-id="d48e7-139">不過，`RowDataBound`事件處理常式不是解決方案，資料列無法從這個事件處理常式以程式設計方式新增至 GridView。</span><span class="sxs-lookup"><span data-stu-id="d48e7-139">However, the `RowDataBound` event handler is not the solution here, as rows cannot be added to the GridView programmatically from this event handler.</span></span> <span data-ttu-id="d48e7-140">GridView 的`Rows`集合，其實是唯讀的。</span><span class="sxs-lookup"><span data-stu-id="d48e7-140">The GridView s `Rows` collection, in fact, is read-only.</span></span>

<span data-ttu-id="d48e7-141">若要將 GridView 中加入額外的資料列中，我們有三種選擇：</span><span class="sxs-lookup"><span data-stu-id="d48e7-141">To add additional rows to the GridView we have three choices:</span></span>

- <span data-ttu-id="d48e7-142">這些中繼資料分隔符號資料列加入繫結至 GridView 的實際資料</span><span class="sxs-lookup"><span data-stu-id="d48e7-142">Add these metadata separator rows to the actual data that is bound to the GridView</span></span>
- <span data-ttu-id="d48e7-143">已繫結的 GridView 的資料之後，請加入更多`TableRow`GridView s 的執行個體控制集合</span><span class="sxs-lookup"><span data-stu-id="d48e7-143">After the GridView has been bound to the data, add additional `TableRow` instances to the GridView s control collection</span></span>
- <span data-ttu-id="d48e7-144">建立自訂的伺服器控制項，以延伸 GridView 控制項，並會覆寫這些方法負責建構 GridView 的結構</span><span class="sxs-lookup"><span data-stu-id="d48e7-144">Create a custom server control that extends the GridView control and overrides those methods responsible for constructing the GridView s structure</span></span>

<span data-ttu-id="d48e7-145">如果這項功能需要許多網頁上或跨多個網站，建立自訂的伺服器控制項可能會最好的方法。</span><span class="sxs-lookup"><span data-stu-id="d48e7-145">Creating a custom server control would be the best approach if this functionality was needed on many web pages or across several websites.</span></span> <span data-ttu-id="d48e7-146">不過，它會需要有相當多的程式碼和 GridView s 內部運作的完整複製瀏覽。</span><span class="sxs-lookup"><span data-stu-id="d48e7-146">However, it would entail quite a bit of code and a thorough exploration into the depths of the GridView s internal workings.</span></span> <span data-ttu-id="d48e7-147">因此，我們將不考慮該選項在此教學課程。</span><span class="sxs-lookup"><span data-stu-id="d48e7-147">Therefore, we'll not consider that option for this tutorial.</span></span>

<span data-ttu-id="d48e7-148">其他兩種選項加入分隔符號資料列，實際資料的繫結至 GridView 和操作後的 s GridView 控制項集合其已繫結-攻擊問題以不同的方式，有些討論。</span><span class="sxs-lookup"><span data-stu-id="d48e7-148">The other two options adding separator rows to the actual data being bound to the GridView and manipulating the GridView s control collection after its been bound - attack the problem differently and merit a discussion.</span></span>

## <a name="adding-rows-to-the-data-bound-to-the-gridview"></a><span data-ttu-id="d48e7-149">將資料列加入資料繫結至 GridView</span><span class="sxs-lookup"><span data-stu-id="d48e7-149">Adding Rows to the Data Bound to the GridView</span></span>

<span data-ttu-id="d48e7-150">在 GridView 繫結至資料來源，它會建立`GridViewRow`資料來源傳回的每一筆記錄。</span><span class="sxs-lookup"><span data-stu-id="d48e7-150">When the GridView is bound to a data source, it creates a `GridViewRow` for each record returned by the data source.</span></span> <span data-ttu-id="d48e7-151">因此，我們可以將所需的分隔符號資料列插入將分隔符號記錄新增至資料來源中，然後再繫結至 GridView。</span><span class="sxs-lookup"><span data-stu-id="d48e7-151">Therefore, we can inject the needed separator rows by adding separator records to the data source before binding it to the GridView.</span></span> <span data-ttu-id="d48e7-152">圖 3 說明這個概念。</span><span class="sxs-lookup"><span data-stu-id="d48e7-152">Figure 3 illustrates this concept.</span></span>


![其中一種技術，必須將分隔符號資料列加入至資料來源](creating-a-customized-sorting-user-interface-cs/_static/image7.png)

<span data-ttu-id="d48e7-154">**圖 3**： 其中一種技術，必須將分隔符號資料列加入至資料來源</span><span class="sxs-lookup"><span data-stu-id="d48e7-154">**Figure 3**: One Technique Involves Adding Separator Rows to the Data Source</span></span>


<span data-ttu-id="d48e7-155">我將使用的詞彙分隔記錄以引號括住，因為沒有特殊的分隔記錄中;相反地，我們必須以某種方式的旗標做為分隔符號，而不是一般的資料列的資料來源中的特定資料錄。</span><span class="sxs-lookup"><span data-stu-id="d48e7-155">I use the term separator records in quotes because there is no special separator record; rather, we must somehow flag that a particular record in the data source serves as a separator rather than a normal data row.</span></span> <span data-ttu-id="d48e7-156">針對我們的範例，我們重新繫結`ProductsDataTable`至 GridView，所組成的執行個體`ProductRows`。</span><span class="sxs-lookup"><span data-stu-id="d48e7-156">For our examples, we re binding a `ProductsDataTable` instance to the GridView, which is composed of `ProductRows`.</span></span> <span data-ttu-id="d48e7-157">我們可能會加上旗標的記錄做為分隔符號資料列設定其`CategoryID`屬性`-1`（因為這類的值，但是 t 通常存在）。</span><span class="sxs-lookup"><span data-stu-id="d48e7-157">We might flag a record as a separator row by setting its `CategoryID` property to `-1` (since such a value couldn t exist normally).</span></span>

<span data-ttu-id="d48e7-158">若要利用這項技術 d 我們需要執行下列步驟：</span><span class="sxs-lookup"><span data-stu-id="d48e7-158">To utilize this technique we d need to perform the following steps:</span></span>

1. <span data-ttu-id="d48e7-159">以程式設計方式擷取的資料繫結至 GridView (`ProductsDataTable`執行個體)</span><span class="sxs-lookup"><span data-stu-id="d48e7-159">Programmatically retrieve the data to bind to the GridView (a `ProductsDataTable` instance)</span></span>
2. <span data-ttu-id="d48e7-160">依據排序資料的 GridView s`SortExpression`和`SortDirection`屬性</span><span class="sxs-lookup"><span data-stu-id="d48e7-160">Sort the data based on the GridView s `SortExpression` and `SortDirection` properties</span></span>
3. <span data-ttu-id="d48e7-161">逐一查看`ProductsRows`中`ProductsDataTable`，尋找在排序資料行中的差異的地方，</span><span class="sxs-lookup"><span data-stu-id="d48e7-161">Iterate through the `ProductsRows` in the `ProductsDataTable`, looking for where the differences in the sorted column lie</span></span>
4. <span data-ttu-id="d48e7-162">在每個群組的界限，插入分隔記錄`ProductsRow`執行個體至 DataTable，其中有它 s`CategoryID`設`-1`（或任何指定已決定將標示為分隔記錄的記錄）</span><span class="sxs-lookup"><span data-stu-id="d48e7-162">At each group boundary, inject a separator record `ProductsRow` instance into the DataTable, one that has it s `CategoryID` set to `-1` (or whatever designation was decided upon to mark a record as a separator record )</span></span>
5. <span data-ttu-id="d48e7-163">之後插入資料列分隔符號，以程式設計方式將資料繫結至 GridView</span><span class="sxs-lookup"><span data-stu-id="d48e7-163">After injecting the separator rows, programmatically bind the data to the GridView</span></span>

<span data-ttu-id="d48e7-164">除了這五個步驟中，我們 d 也要提供給事件處理常式 GridView s`RowDataBound`事件。</span><span class="sxs-lookup"><span data-stu-id="d48e7-164">In addition to these five steps, we d also need to provide an event handler for the GridView s `RowDataBound` event.</span></span> <span data-ttu-id="d48e7-165">在這裡，我們 d 檢查每一個`DataRow`並判斷它是否為分隔符號，第一列其`CategoryID`設定在當時`-1`。</span><span class="sxs-lookup"><span data-stu-id="d48e7-165">Here, we d check each `DataRow` and determine if it was a separator row, one whose `CategoryID` setting was `-1`.</span></span> <span data-ttu-id="d48e7-166">如果是這樣，我們 d 可能會想要調整它的格式設定，或儲存格中所顯示的文字。</span><span class="sxs-lookup"><span data-stu-id="d48e7-166">If so, we d probably want to adjust its formatting or the text displayed in the cell(s).</span></span>

<span data-ttu-id="d48e7-167">使用這項技術，將，以便排序群組界限需要比前面的一些工作，視需要同時也提供事件處理常式 GridView s`Sorting`事件並保留追蹤`SortExpression`和`SortDirection`值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-167">Using this technique for injecting the sorting group boundaries requires a bit more work than outlined above, as you need to also provide an event handler for the GridView s `Sorting` event and keep track of the `SortExpression` and `SortDirection` values.</span></span>

## <a name="manipulating-the-gridview-s-control-collection-after-it-s-been-databound"></a><span data-ttu-id="d48e7-168">操作 GridView s 控制 s 其後集合已資料繫結</span><span class="sxs-lookup"><span data-stu-id="d48e7-168">Manipulating the GridView s Control Collection After It s Been Databound</span></span>

<span data-ttu-id="d48e7-169">而不是訊息之前繫結至 GridView 的資料，我們可以將分隔符號資料列加入*之後*已繫結至 GridView 的資料。</span><span class="sxs-lookup"><span data-stu-id="d48e7-169">Rather than messaging the data before binding it to the GridView, we can add the separator rows *after* the data has been bound to the GridView.</span></span> <span data-ttu-id="d48e7-170">在 GridView 的控制項階層架構，這實際上是建立資料繫結的程序只是`Table`執行個體所組成的資料列，其中每一個都儲存格的集合所組成的集合。</span><span class="sxs-lookup"><span data-stu-id="d48e7-170">The process of data binding builds up the GridView s control hierarchy, which in reality is simply a `Table` instance composed of a collection of rows, each of which is composed of a collection of cells.</span></span> <span data-ttu-id="d48e7-171">具體來說，GridView 的控制項集合包含`Table`物件，其根目錄`GridViewRow`(其衍生自`TableRow`類別) 中的每一筆記錄`DataSource`繫結至 GridView，和`TableCell`物件中每個`GridViewRow`中每個資料欄位的執行個體`DataSource`。</span><span class="sxs-lookup"><span data-stu-id="d48e7-171">Specifically, the GridView s control collection contains a `Table` object at its root, a `GridViewRow` (which is derived from the `TableRow` class) for each record in the `DataSource` bound to the GridView, and a `TableCell` object in each `GridViewRow` instance for each data field in the `DataSource`.</span></span>

<span data-ttu-id="d48e7-172">若要新增每個排序群組之間的分隔符號資料列，我們可以直接操作此控制項階層架構一旦建立之後。</span><span class="sxs-lookup"><span data-stu-id="d48e7-172">To add separator rows between each sorting group, we can directly manipulate this control hierarchy once it has been created.</span></span> <span data-ttu-id="d48e7-173">我們可以放心在 GridView 的控制項階層架構已經建立的最後一次所呈現頁面的時間。</span><span class="sxs-lookup"><span data-stu-id="d48e7-173">We can be confident that the GridView s control hierarchy has been created for the last time by the time the page is being rendered.</span></span> <span data-ttu-id="d48e7-174">因此，這個方法會覆寫`Page`類別的`Render`方法，此時的 GridView s 最終控制項階層架構會更新以包含所需的分隔符號資料列。</span><span class="sxs-lookup"><span data-stu-id="d48e7-174">Therefore, this approach overrides the `Page` class s `Render` method, at which point the GridView s final control hierarchy is updated to include the needed separator rows.</span></span> <span data-ttu-id="d48e7-175">圖 4 說明此程序。</span><span class="sxs-lookup"><span data-stu-id="d48e7-175">Figure 4 illustrates this process.</span></span>


<span data-ttu-id="d48e7-176">[![替代技巧操作 GridView 的控制項階層架構](creating-a-customized-sorting-user-interface-cs/_static/image9.png)](creating-a-customized-sorting-user-interface-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="d48e7-176">[![An Alternate Technique Manipulates the GridView s Control Hierarchy](creating-a-customized-sorting-user-interface-cs/_static/image9.png)](creating-a-customized-sorting-user-interface-cs/_static/image8.png)</span></span>

<span data-ttu-id="d48e7-177">**圖 4**： 替代技巧操作 GridView 的控制項階層架構 ([按一下以檢視完整大小的影像](creating-a-customized-sorting-user-interface-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="d48e7-177">**Figure 4**: An Alternate Technique Manipulates the GridView s Control Hierarchy ([Click to view full-size image](creating-a-customized-sorting-user-interface-cs/_static/image10.png))</span></span>


<span data-ttu-id="d48e7-178">此教學課程中，我們會使用這個第二種方法可自訂排序的使用者經驗。</span><span class="sxs-lookup"><span data-stu-id="d48e7-178">For this tutorial, we'll use this latter approach to customize the sorting user experience.</span></span>

> [!NOTE]
> <span data-ttu-id="d48e7-179">程式碼我 m 呈現在本教學課程根據提供的範例[Teemu Keiski](http://aspadvice.com/blogs/joteke/default.aspx) s 部落格文章：[播放與 GridView 排序群組的位元](http://aspadvice.com/blogs/joteke/archive/2006/02/11/15130.aspx)。</span><span class="sxs-lookup"><span data-stu-id="d48e7-179">The code I m presenting in this tutorial is based on the example provided in [Teemu Keiski](http://aspadvice.com/blogs/joteke/default.aspx) s blog entry, [Playing a Bit with GridView Sort Grouping](http://aspadvice.com/blogs/joteke/archive/2006/02/11/15130.aspx).</span></span>


## <a name="step-3-adding-the-separator-rows-to-the-gridview-s-control-hierarchy"></a><span data-ttu-id="d48e7-180">步驟 3： 將分隔符號資料列加入至 GridView 的控制項階層架構</span><span class="sxs-lookup"><span data-stu-id="d48e7-180">Step 3: Adding the Separator Rows to the GridView s Control Hierarchy</span></span>

<span data-ttu-id="d48e7-181">因為我們只想要將分隔符號資料列加入至 GridView 的控制項階層架構，已建立並在該頁面造訪最後一次建立其控制項階層架構之後，我們想要執行此新增結束頁面生命週期中，但實際的 GridView c 之前下時階層已呈現成 HTML。</span><span class="sxs-lookup"><span data-stu-id="d48e7-181">Since we only want to add the separator rows to the GridView s control hierarchy after its control hierarchy has been created and created for the last time on that page visit, we want to perform this addition at the end of the page lifecycle, but before the actual GridView control hierarchy has been rendered into HTML.</span></span> <span data-ttu-id="d48e7-182">此時我們可以完成這項作業的最新的可能點`Page`類別的`Render`事件，我們可以使用下列方法簽章我們的程式碼後置類別中覆寫：</span><span class="sxs-lookup"><span data-stu-id="d48e7-182">The latest possible point at which we can accomplish this is the `Page` class s `Render` event, which we can override in our code-behind class using the following method signature:</span></span>


[!code-csharp[Main](creating-a-customized-sorting-user-interface-cs/samples/sample2.cs)]

<span data-ttu-id="d48e7-183">當`Page`類別原始`Render`叫用方法`base.Render(writer)`每個頁面中的控制項呈現，產生根據其控制項階層架構的標記。</span><span class="sxs-lookup"><span data-stu-id="d48e7-183">When the `Page` class s original `Render` method is invoked `base.Render(writer)` each of the controls in the page will be rendered, generating the markup based on their control hierarchy.</span></span> <span data-ttu-id="d48e7-184">因此務必我們這兩個呼叫`base.Render(writer)`，以便在轉譯頁面時，控制項之前呼叫階層架構中，我們操作 GridView 的`base.Render(writer)`，如此分隔符號資料列已加入至之前的 GridView 的控制項階層架構s 已經呈現。</span><span class="sxs-lookup"><span data-stu-id="d48e7-184">Therefore it is imperative that we both call `base.Render(writer)`, so that the page is rendered, and that we manipulate the GridView s control hierarchy prior to calling `base.Render(writer)`, so that the separator rows have been added to the GridView s control hierarchy before it s been rendered.</span></span>

<span data-ttu-id="d48e7-185">若要將排序群組標頭，我們需要確定使用者已要求資料進行排序。</span><span class="sxs-lookup"><span data-stu-id="d48e7-185">To inject the sort group headers we first need to ensure that the user has requested that the data be sorted.</span></span> <span data-ttu-id="d48e7-186">根據預設，不會排序 GridView 的內容，並因此我們不 t 需要輸入排序的標頭的任何群組。</span><span class="sxs-lookup"><span data-stu-id="d48e7-186">By default, the GridView s contents are not sorted, and therefore we don t need to enter any group sorting headers.</span></span>

> [!NOTE]
> <span data-ttu-id="d48e7-187">如果您想要第一次載入頁面時，依特定的資料行來排序 GridView，呼叫 GridView 的`Sort`方法在第一個頁面造訪 （但不是會在後續回傳時）。</span><span class="sxs-lookup"><span data-stu-id="d48e7-187">If you want the GridView to be sorted by a particular column when the page is first loaded, call the GridView s `Sort` method on the first page visit (but not on subsequent postbacks).</span></span> <span data-ttu-id="d48e7-188">若要完成這項作業，加入此呼叫中的`Page_Load`內的事件處理常式`if (!Page.IsPostBack)`條件。</span><span class="sxs-lookup"><span data-stu-id="d48e7-188">To accomplish this, add this call in the `Page_Load` event handler within an `if (!Page.IsPostBack)` conditional.</span></span> <span data-ttu-id="d48e7-189">若要回頭參考[分頁和排序報表資料](paging-and-sorting-report-data-cs.md)教學課程的資訊，如需有關`Sort`方法。</span><span class="sxs-lookup"><span data-stu-id="d48e7-189">Refer back to the [Paging and Sorting Report Data](paging-and-sorting-report-data-cs.md) tutorial information for more on the `Sort` method.</span></span>


<span data-ttu-id="d48e7-190">假設資料經過排序下, 一步是要判斷哪一個資料行資料已排序，然後可以掃描尋找該資料行 s 中的差異資料列的值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-190">Assuming that the data has been sorted, our next task is to determine what column the data was sorted by and then to scan the rows looking for differences in that column s values.</span></span> <span data-ttu-id="d48e7-191">下列程式碼，以確保資料的已排序和尋找資料經過排序之資料行：</span><span class="sxs-lookup"><span data-stu-id="d48e7-191">The following code ensures that the data has been sorted and finds the column by which the data has been sorted:</span></span>


[!code-csharp[Main](creating-a-customized-sorting-user-interface-cs/samples/sample3.cs)]

<span data-ttu-id="d48e7-192">如果 GridView 有尚未為已排序，GridView 的`SortExpression`將尚未設定屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-192">If the GridView has yet to be sorted, the GridView s `SortExpression` property will not have been set.</span></span> <span data-ttu-id="d48e7-193">因此，我們只想要加入分隔符號資料列，如果這個屬性有一些值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-193">Therefore, we only want to add the separator rows if this property has some value.</span></span> <span data-ttu-id="d48e7-194">若是如此，我們接下來必須決定的資料已排序的資料行的索引。</span><span class="sxs-lookup"><span data-stu-id="d48e7-194">If it does, we next need to determine the index of the column by which the data was sorted.</span></span> <span data-ttu-id="d48e7-195">這會透過迴圈 GridView s`Columns`集合，其搜尋資料行`SortExpression`屬性等於 GridView 的`SortExpression`屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-195">This is accomplished by looping through the GridView s `Columns` collection, searching for the column whose `SortExpression` property equals the GridView s `SortExpression` property.</span></span> <span data-ttu-id="d48e7-196">除了資料行的索引中，我們也抓取`HeaderText`顯示分隔符號資料列時所用的屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-196">In addition to the column s index, we also grab the `HeaderText` property, which is used when displaying the separator rows.</span></span>

<span data-ttu-id="d48e7-197">資料已排序的資料行的索引，最後一個步驟是列舉的 GridView 的資料列。</span><span class="sxs-lookup"><span data-stu-id="d48e7-197">With the index of the column by which the data is sorted, the final step is to enumerate the rows of the GridView.</span></span> <span data-ttu-id="d48e7-198">每個資料列中，我們需要判斷是否已排序資料行的值不同於先前的資料列 s 排序資料行的值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-198">For each row we need to determine whether the sorted column s value differs from the previous row s sorted column s value.</span></span> <span data-ttu-id="d48e7-199">因此，我們需要將新如果`GridViewRow`到在控制項階層架構的執行個體。</span><span class="sxs-lookup"><span data-stu-id="d48e7-199">If so, we need to inject a new `GridViewRow` instance into the control hierarchy.</span></span> <span data-ttu-id="d48e7-200">使用下列程式碼完成這個動作：</span><span class="sxs-lookup"><span data-stu-id="d48e7-200">This is accomplished with the following code:</span></span>


[!code-csharp[Main](creating-a-customized-sorting-user-interface-cs/samples/sample4.cs)]

<span data-ttu-id="d48e7-201">此程式碼會啟動以程式設計方式參考`Table`GridView 的控制項階層架構的根目錄中找到的物件，並建立名為的字串變數`lastValue`。</span><span class="sxs-lookup"><span data-stu-id="d48e7-201">This code starts by programmatically referencing the `Table` object found at the root of the GridView s control hierarchy and creating a string variable named `lastValue`.</span></span> <span data-ttu-id="d48e7-202">`lastValue` 用來比較目前資料列 s 排序資料行值與上一個資料列的值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-202">`lastValue` is used to compare the current row s sorted column value with the previous row s value.</span></span> <span data-ttu-id="d48e7-203">下一步、 GridView s`Rows`會列舉集合，每個資料列已排序的資料行的值會儲存在`currentValue`變數。</span><span class="sxs-lookup"><span data-stu-id="d48e7-203">Next, the GridView s `Rows` collection is enumerated and for each row the value of the sorted column is stored in the `currentValue` variable.</span></span>

> [!NOTE]
> <span data-ttu-id="d48e7-204">若要判斷特定資料列 s 排序資料行的值使用的儲存格的`Text`屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-204">To determine the value of the particular row s sorted column I use the cell s `Text` property.</span></span> <span data-ttu-id="d48e7-205">這適用於 BoundFields，但將不適用 TemplateFields，CheckBoxFields，視等等。</span><span class="sxs-lookup"><span data-stu-id="d48e7-205">This works well for BoundFields, but will not work as desired for TemplateFields, CheckBoxFields, and so on.</span></span> <span data-ttu-id="d48e7-206">我們會探討如何稍後說明替代 GridView 欄位。</span><span class="sxs-lookup"><span data-stu-id="d48e7-206">We'll look at how to account for alternate GridView fields shortly.</span></span>


<span data-ttu-id="d48e7-207">`currentValue`和`lastValue`變數接著會比較。</span><span class="sxs-lookup"><span data-stu-id="d48e7-207">The `currentValue` and `lastValue` variables are then compared.</span></span> <span data-ttu-id="d48e7-208">如果它們之間的差異就必須在控制項階層架構中加入新的資料列分隔符號。</span><span class="sxs-lookup"><span data-stu-id="d48e7-208">If they differ we need to add a new separator row to the control hierarchy.</span></span> <span data-ttu-id="d48e7-209">這會透過判斷索引`GridViewRow`中`Table`物件 s`Rows`集合中，建立新的`GridViewRow`和`TableCell`執行個體，然後再新增`TableCell`和`GridViewRow`至控制項階層架構。</span><span class="sxs-lookup"><span data-stu-id="d48e7-209">This is accomplished by determining the index of the `GridViewRow` in the `Table` object s `Rows` collection, creating new `GridViewRow` and `TableCell` instances, and then adding the `TableCell` and `GridViewRow` to the control hierarchy.</span></span>

<span data-ttu-id="d48e7-210">注意分隔符號資料列 s 單獨`TableCell`會格式化，跨越整個寬度的 GridView 中使用格式化`SortHeaderRowStyle`CSS 類別，且其`Text`例如，它會顯示這兩個排序群組名稱 （例如類別） 的屬性和（例如飲料） 群組的值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-210">Note that the separator row s lone `TableCell` is formatted such that it spans the entire width of the GridView, is formatted using the `SortHeaderRowStyle` CSS class, and has its `Text` property such that it shows both the sort group name (such as Category ) and the group s value (such as Beverages ).</span></span> <span data-ttu-id="d48e7-211">最後，`lastValue`更新的值`currentValue`。</span><span class="sxs-lookup"><span data-stu-id="d48e7-211">Finally, `lastValue` is updated to the value of `currentValue`.</span></span>

<span data-ttu-id="d48e7-212">用來格式化排序群組標頭資料列的 CSS 類別`SortHeaderRowStyle`在中指定`Styles.css`檔案。</span><span class="sxs-lookup"><span data-stu-id="d48e7-212">The CSS class used to format the sorting group header row `SortHeaderRowStyle` needs to be specified in the `Styles.css` file.</span></span> <span data-ttu-id="d48e7-213">可以自由使用任何樣式設定吸引您;我使用下列項目：</span><span class="sxs-lookup"><span data-stu-id="d48e7-213">Feel free to use whatever style settings appeal to you; I used the following:</span></span>


[!code-css[Main](creating-a-customized-sorting-user-interface-cs/samples/sample5.css)]

<span data-ttu-id="d48e7-214">使用目前的程式碼中，排序介面時，加入排序群組標頭排序任何 BoundField （請參閱圖 5 顯示螢幕擷取畫面，供應商排序時）。</span><span class="sxs-lookup"><span data-stu-id="d48e7-214">With the current code, the sorting interface adds sort group headers when sorting by any BoundField (see Figure 5, which shows a screenshot when sorting by supplier).</span></span> <span data-ttu-id="d48e7-215">不過，當其他任何欄位類型 （例如 CheckBoxField 或 TemplateField） 來排序，排序群組標頭會找不到 （請參閱圖 6）。</span><span class="sxs-lookup"><span data-stu-id="d48e7-215">However, when sorting by any other field type (such as a CheckBoxField or TemplateField), the sort group headers are nowhere to be found (see Figure 6).</span></span>


<span data-ttu-id="d48e7-216">[![排序介面由 BoundFields 排序時，包含排序群組標頭](creating-a-customized-sorting-user-interface-cs/_static/image12.png)](creating-a-customized-sorting-user-interface-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="d48e7-216">[![The Sorting Interface Includes Sort Group Headers When Sorting by BoundFields](creating-a-customized-sorting-user-interface-cs/_static/image12.png)](creating-a-customized-sorting-user-interface-cs/_static/image11.png)</span></span>

<span data-ttu-id="d48e7-217">**圖 5**: 排序介面包含排序群組標頭時排序 BoundFields ([按一下以檢視完整大小的影像](creating-a-customized-sorting-user-interface-cs/_static/image13.png))</span><span class="sxs-lookup"><span data-stu-id="d48e7-217">**Figure 5**: The Sorting Interface Includes Sort Group Headers When Sorting by BoundFields ([Click to view full-size image](creating-a-customized-sorting-user-interface-cs/_static/image13.png))</span></span>


<span data-ttu-id="d48e7-218">[![排序群組標頭會遺失時排序 CheckBoxField](creating-a-customized-sorting-user-interface-cs/_static/image15.png)](creating-a-customized-sorting-user-interface-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="d48e7-218">[![The Sort Group Headers are Missing When Sorting a CheckBoxField](creating-a-customized-sorting-user-interface-cs/_static/image15.png)](creating-a-customized-sorting-user-interface-cs/_static/image14.png)</span></span>

<span data-ttu-id="d48e7-219">**圖 6**： 排序群組標頭會遺失時排序 CheckBoxField ([按一下以檢視完整大小的影像](creating-a-customized-sorting-user-interface-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="d48e7-219">**Figure 6**: The Sort Group Headers are Missing When Sorting a CheckBoxField ([Click to view full-size image](creating-a-customized-sorting-user-interface-cs/_static/image16.png))</span></span>


<span data-ttu-id="d48e7-220">由 CheckBoxField 排序時，會遺失排序群組標頭的原因是因為程式碼目前使用剛才`TableCell`s`Text`屬性來判斷每個資料列已排序的資料行的值。</span><span class="sxs-lookup"><span data-stu-id="d48e7-220">The reason the sort group headers are missing when sorting by a CheckBoxField is because the code currently uses just the `TableCell` s `Text` property to determine the value of the sorted column for each row.</span></span> <span data-ttu-id="d48e7-221">CheckBoxFields，如`TableCell`s`Text`屬性是空的字串; 相反地，值是可透過位於中核取方塊 Web 控制項`TableCell`s`Controls`集合。</span><span class="sxs-lookup"><span data-stu-id="d48e7-221">For CheckBoxFields, the `TableCell` s `Text` property is an empty string; instead, the value is available through a CheckBox Web control that resides within the `TableCell` s `Controls` collection.</span></span>

<span data-ttu-id="d48e7-222">若要處理 BoundFields 以外的欄位類型，我們需要來增強程式碼位置`currentValue`變數指派給檢查中的核取方塊存在`TableCell`s`Controls`集合。</span><span class="sxs-lookup"><span data-stu-id="d48e7-222">To handle field types other than BoundFields, we need to augment the code where the `currentValue` variable is assigned to check for the existence of a CheckBox in the `TableCell` s `Controls` collection.</span></span> <span data-ttu-id="d48e7-223">而不是使用`currentValue = gvr.Cells[sortColumnIndex].Text`，這段程式碼替換成下列：</span><span class="sxs-lookup"><span data-stu-id="d48e7-223">Instead of using `currentValue = gvr.Cells[sortColumnIndex].Text`, replace this code with the following:</span></span>


[!code-csharp[Main](creating-a-customized-sorting-user-interface-cs/samples/sample6.cs)]

<span data-ttu-id="d48e7-224">此程式碼會檢查已排序的資料行`TableCell`來判斷是否有任何控制項中的目前資料列`Controls`集合。</span><span class="sxs-lookup"><span data-stu-id="d48e7-224">This code examines the sorted column `TableCell` for the current row to determine if there are any controls in the `Controls` collection.</span></span> <span data-ttu-id="d48e7-225">如果有，而且第一個控制項的核取方塊，`currentValue`變數設為 是 或 否，根據核取方塊的`Checked`屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-225">If there are, and the first control is a CheckBox, the `currentValue` variable is set to Yes or No, depending on the CheckBox s `Checked` property.</span></span> <span data-ttu-id="d48e7-226">否則，該值為擷取自`TableCell`s`Text`屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-226">Otherwise, the value is taken from the `TableCell` s `Text` property.</span></span> <span data-ttu-id="d48e7-227">這個邏輯可以複寫到處理任何 TemplateFields GridView 中可能存在的排序。</span><span class="sxs-lookup"><span data-stu-id="d48e7-227">This logic can be replicated to handle sorting for any TemplateFields that may exist in the GridView.</span></span>

<span data-ttu-id="d48e7-228">上述程式碼加入，排序群組標頭現在都已停止的 CheckBoxField 排序時 （請參閱圖 7）。</span><span class="sxs-lookup"><span data-stu-id="d48e7-228">With the above code addition, the sort group headers are now present when sorting by the Discontinued CheckBoxField (see Figure 7).</span></span>


<span data-ttu-id="d48e7-229">[![排序群組標頭會立即出現時排序 CheckBoxField](creating-a-customized-sorting-user-interface-cs/_static/image18.png)](creating-a-customized-sorting-user-interface-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="d48e7-229">[![The Sort Group Headers are Now Present When Sorting a CheckBoxField](creating-a-customized-sorting-user-interface-cs/_static/image18.png)](creating-a-customized-sorting-user-interface-cs/_static/image17.png)</span></span>

<span data-ttu-id="d48e7-230">**圖 7**： 排序群組標頭會立即出現時排序 CheckBoxField ([按一下以檢視完整大小的影像](creating-a-customized-sorting-user-interface-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="d48e7-230">**Figure 7**: The Sort Group Headers are Now Present When Sorting a CheckBoxField ([Click to view full-size image](creating-a-customized-sorting-user-interface-cs/_static/image19.png))</span></span>


> [!NOTE]
> <span data-ttu-id="d48e7-231">如果您有產品`NULL`資料庫值`CategoryID`， `SupplierID`，或`UnitPrice`欄位，這些值會出現為 GridView 中的空白字串依預設，分隔符號 s 資料列文字表示的那些產品之`NULL`值將讀取像類別目錄: (也就是沒有 s 類別後的沒有名稱： 例如類別目錄： 飲料)。</span><span class="sxs-lookup"><span data-stu-id="d48e7-231">If you have products with `NULL` database values for the `CategoryID`, `SupplierID`, or `UnitPrice` fields, those values will appear as empty strings in the GridView by default, meaning the separator row s text for those products with `NULL` values will read like Category: (that is, there s no name after Category: like with Category: Beverages ).</span></span> <span data-ttu-id="d48e7-232">如果您想要在此顯示值，您可以透過設定 BoundFields [ `NullDisplayText`屬性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.nulldisplaytext.aspx)文字您想要顯示或指派時，您可以在轉譯方法中加入條件陳述式`currentValue`分隔符號資料列的`Text`屬性。</span><span class="sxs-lookup"><span data-stu-id="d48e7-232">If you want a value displayed here you can either set the BoundFields [`NullDisplayText` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.nulldisplaytext.aspx) to the text you want displayed or you can add a conditional statement in the Render method when assigning the `currentValue` to the separator row s `Text` property.</span></span>


## <a name="summary"></a><span data-ttu-id="d48e7-233">總結</span><span class="sxs-lookup"><span data-stu-id="d48e7-233">Summary</span></span>

<span data-ttu-id="d48e7-234">GridView 不包含許多內建的自訂排序的介面。</span><span class="sxs-lookup"><span data-stu-id="d48e7-234">The GridView does not include many built-in options for customizing the sorting interface.</span></span> <span data-ttu-id="d48e7-235">不過，在使用的位元的低階程式碼，它能夠調整 GridView 的控制項階層架構，以建立更多自訂的介面 s。</span><span class="sxs-lookup"><span data-stu-id="d48e7-235">However, with a bit of low-level code, it s possible to tweak the GridView s control hierarchy to create a more customized interface.</span></span> <span data-ttu-id="d48e7-236">在此教學課程中我們可了解如何加入排序群組分隔符號資料列的可排序的 GridView，更輕鬆地識別不同的群組，以及這些群組的界限。</span><span class="sxs-lookup"><span data-stu-id="d48e7-236">In this tutorial we saw how to add a sort group separator row for a sortable GridView, which more easily identifies the distinct groups and those groups boundaries.</span></span> <span data-ttu-id="d48e7-237">如需自訂排序介面的其他範例，請參閱[Scott Guthrie](https://weblogs.asp.net/scottgu/) s [ASP.NET 2.0 GridView 排序的秘訣和訣竅](https://weblogs.asp.net/scottgu/archive/2006/02/11/437995.aspx)部落格文章。</span><span class="sxs-lookup"><span data-stu-id="d48e7-237">For additional examples of customized sorting interfaces, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/) s [A Few ASP.NET 2.0 GridView Sorting Tips and Tricks](https://weblogs.asp.net/scottgu/archive/2006/02/11/437995.aspx) blog entry.</span></span>

<span data-ttu-id="d48e7-238">祝您程式設計 ！</span><span class="sxs-lookup"><span data-stu-id="d48e7-238">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d48e7-239">關於作者</span><span class="sxs-lookup"><span data-stu-id="d48e7-239">About the Author</span></span>

<span data-ttu-id="d48e7-240">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，作者的七個 ASP/ASP.NET 書籍和的創辦[4GuysFromRolla.com](http://www.4guysfromrolla.com)，已從 1998 年使用 Microsoft Web 技術。</span><span class="sxs-lookup"><span data-stu-id="d48e7-240">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d48e7-241">Scott 可做為獨立顧問、 訓練和寫入器。</span><span class="sxs-lookup"><span data-stu-id="d48e7-241">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d48e7-242">他最新的活頁簿[ *Sam 教導您自己 ASP.NET 2.0 24 小時內*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="d48e7-242">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d48e7-243">他可以在達到[ mitchell@4GuysFromRolla.com。](mailto:mitchell@4GuysFromRolla.com)或透過他的部落格，這可以在找到[ http://ScottOnWriting.NET ](http://ScottOnWriting.NET)。</span><span class="sxs-lookup"><span data-stu-id="d48e7-243">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d48e7-244">[上一頁](sorting-custom-paged-data-cs.md)
> [下一頁](paging-and-sorting-report-data-vb.md)</span><span class="sxs-lookup"><span data-stu-id="d48e7-244">[Previous](sorting-custom-paged-data-cs.md)
[Next](paging-and-sorting-report-data-vb.md)</span></span>
