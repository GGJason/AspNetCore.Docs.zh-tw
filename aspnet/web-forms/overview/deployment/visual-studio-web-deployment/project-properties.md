---
uid: web-forms/overview/deployment/visual-studio-web-deployment/project-properties
title: 使用 Visual Studio 的 ASP.NET Web 部署： 專案屬性 |Microsoft 文件
author: tdykstra
description: 此教學課程會示範如何將部署 （發行） 的 ASP.NET web 應用程式至 Azure App Service Web 應用程式或協力廠商裝載提供者，使用...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/15/2013
ms.topic: article
ms.assetid: ec1cec4c-a75f-47af-a2ba-b1e2f971d24b
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/project-properties
msc.type: authoredcontent
ms.openlocfilehash: fba3f089bf1693eec873b08b4bc50e3accba06ee
ms.sourcegitcommit: 6784510cfb589308c3875ccb5113eb31031766b4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/08/2018
ms.locfileid: "30879877"
---
<a name="aspnet-web-deployment-using-visual-studio-project-properties"></a><span data-ttu-id="1805e-103">使用 Visual Studio 的 ASP.NET Web 部署： 專案屬性</span><span class="sxs-lookup"><span data-stu-id="1805e-103">ASP.NET Web Deployment using Visual Studio: Project Properties</span></span>
====================
<span data-ttu-id="1805e-104">由[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="1805e-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="1805e-105">下載入門專案</span><span class="sxs-lookup"><span data-stu-id="1805e-105">Download Starter Project</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="1805e-106">此教學課程會示範如何將部署 （發行） 的 ASP.NET web 應用程式至 Azure App Service Web 應用程式或協力廠商裝載提供者，使用 Visual Studio 2012 或 Visual Studio 2010。</span><span class="sxs-lookup"><span data-stu-id="1805e-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="1805e-107">數列的相關資訊，請參閱[系列的第一個教學課程](introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="1805e-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="1805e-108">總覽</span><span class="sxs-lookup"><span data-stu-id="1805e-108">Overview</span></span>

<span data-ttu-id="1805e-109">儲存專案檔中的專案屬性中設定某些部署選項 ( *.csproj*或 *.vbproj*檔案)。</span><span class="sxs-lookup"><span data-stu-id="1805e-109">Some deployment options are configured in project properties that are stored in the project file (the *.csproj* or *.vbproj* file).</span></span> <span data-ttu-id="1805e-110">在大部分情況下，這些設定的預設值都是您想要但是您可以使用**專案屬性**UI 的內建於 Visual Studio 搭配使用這些設定，如果您需要變更它們。</span><span class="sxs-lookup"><span data-stu-id="1805e-110">In most cases, the default values of these settings are what you want, but you can use the **Project Properties** UI built into Visual Studio to work with these settings if you have to change them.</span></span> <span data-ttu-id="1805e-111">在本教學課程中，您檢閱部署設定中的**專案屬性**。</span><span class="sxs-lookup"><span data-stu-id="1805e-111">In this tutorial you review the deployment settings in **Project Properties**.</span></span> <span data-ttu-id="1805e-112">您也可以建立會導致空的資料夾部署的預留位置檔案。</span><span class="sxs-lookup"><span data-stu-id="1805e-112">You also create a placeholder file that causes an empty folder to be deployed.</span></span>

## <a name="configure-deployment-settings-in-the-project-properties-window"></a><span data-ttu-id="1805e-113">在 [專案屬性] 視窗中設定部署設定</span><span class="sxs-lookup"><span data-stu-id="1805e-113">Configure deployment settings in the project properties window</span></span>

<span data-ttu-id="1805e-114">大部分的設定會影響部署期間進行的作業包含在發行設定檔中，您會發現下列教學課程中。</span><span class="sxs-lookup"><span data-stu-id="1805e-114">Most settings that affect what happens during deployment are included in the publish profile, as you'll see in the following tutorials.</span></span> <span data-ttu-id="1805e-115">您應該注意的一些設定位於**封裝/發行**索引標籤的**專案屬性**視窗。</span><span class="sxs-lookup"><span data-stu-id="1805e-115">A few settings that you should be aware of are located in the **Package/Publish** tabs of the **Project Properties** window.</span></span> <span data-ttu-id="1805e-116">這些設定會指定每個組建組態，也就是有不同的設定，在發行組建，超過您的偵錯組建。</span><span class="sxs-lookup"><span data-stu-id="1805e-116">These settings are specified for each build configuration — that is, you can have different settings for a Release build than you have for a Debug build.</span></span>

<span data-ttu-id="1805e-117">在**方案總管 中**，以滑鼠右鍵按一下**ContosoUniversity**專案，然後選取**屬性**，然後選取**封裝/發行 Web** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="1805e-117">In **Solution Explorer**, right-click the **ContosoUniversity** project, select **Properties**, and then select the **Package/Publish Web** tab.</span></span>

![[封裝/發行 Web] 索引標籤](project-properties/_static/image1.png)

<span data-ttu-id="1805e-119">當視窗出現時，則預設顯示設定的任何組建組態是目前作用中的方案。</span><span class="sxs-lookup"><span data-stu-id="1805e-119">When the window is displayed, it defaults to showing settings for whichever build configuration is currently active for the solution.</span></span> <span data-ttu-id="1805e-120">如果**組態**方塊並不表示**作用中 （發行）**，選取**發行**才能顯示發行組建組態設定。</span><span class="sxs-lookup"><span data-stu-id="1805e-120">If the **Configuration** box does not indicate **Active (Release)**, select **Release** in order to display settings for the Release build configuration.</span></span> <span data-ttu-id="1805e-121">您要將發行的組建部署到您的測試和實際執行環境。</span><span class="sxs-lookup"><span data-stu-id="1805e-121">You'll deploy Release builds to both your test and production environments.</span></span>

![選取的發行組建組態](project-properties/_static/image2.png)

<span data-ttu-id="1805e-123">與**作用中 （發行）** 或**發行**您選取，請參閱您部署使用發行組建組態時，會有效的值：</span><span class="sxs-lookup"><span data-stu-id="1805e-123">With **Active (Release)** or **Release** selected, you see the values that are effective when you deploy using the Release build configuration:</span></span>

- <span data-ttu-id="1805e-124">在**要部署的項目** 方塊中，**只有執行應用程式所需的檔案**已選取。</span><span class="sxs-lookup"><span data-stu-id="1805e-124">In the **Items to deploy** box, **Only files needed to run the application** is selected.</span></span> <span data-ttu-id="1805e-125">其他選項包括**這個專案中的所有檔案**或**此專案資料夾中的所有檔案**。</span><span class="sxs-lookup"><span data-stu-id="1805e-125">Other options are **All files in this project** or **All files in this project folder**.</span></span> <span data-ttu-id="1805e-126">您避免部署原始程式碼檔案中，例如藉由保留預設選取項目保持不變。</span><span class="sxs-lookup"><span data-stu-id="1805e-126">By leaving the default selection unchanged you avoid deploying source code files, for example.</span></span> <span data-ttu-id="1805e-127">此設定為包含 SQL Server Compact 的二進位檔案的資料夾必須包含在專案中的原因的原因。</span><span class="sxs-lookup"><span data-stu-id="1805e-127">This setting is the reason why the folders that contain the SQL Server Compact binary files had to be included in the project.</span></span> <span data-ttu-id="1805e-128">如需有關這項設定的詳細資訊，請參閱**為什麼沒有 我的專案資料夾中的檔案取得部署所有？** 中[ASP.NET Web 應用程式專案部署常見問題集](https://msdn.microsoft.com/library/ee942158.aspx)。</span><span class="sxs-lookup"><span data-stu-id="1805e-128">For more information about this setting, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx).</span></span>
- <span data-ttu-id="1805e-129">**排除產生偵錯符號**已選取。</span><span class="sxs-lookup"><span data-stu-id="1805e-129">**Exclude generated debug symbols** is selected.</span></span> <span data-ttu-id="1805e-130">您將不會使用這個組建組態時，偵錯。</span><span class="sxs-lookup"><span data-stu-id="1805e-130">You won't be debugging when you use this build configuration.</span></span>
- <span data-ttu-id="1805e-131">**包含在封裝/發行 SQL 索引標籤中設定的所有資料庫**已選取。</span><span class="sxs-lookup"><span data-stu-id="1805e-131">**Include all databases configured in Package/Publish SQL tab** is selected.</span></span> <span data-ttu-id="1805e-132">指定 Visual Studio 是否會將部署資料庫，以及檔案。</span><span class="sxs-lookup"><span data-stu-id="1805e-132">Specifies whether Visual Studio will deploy databases as well as files.</span></span> <span data-ttu-id="1805e-133">雖然核取方塊標籤只有提及**封裝/發行 SQL**索引標籤上，清除此核取方塊會一併停用資料庫部署中的發行設定檔設定。</span><span class="sxs-lookup"><span data-stu-id="1805e-133">Although the check box label only mentions the **Package/Publish SQL** tab, clearing this check box would also disable database deployment that is configured in the publish profile.</span></span> <span data-ttu-id="1805e-134">您會進行的更新版本中，讓核取方塊必須維持選取狀態。</span><span class="sxs-lookup"><span data-stu-id="1805e-134">You will be doing that later, so the check box must remain selected.</span></span> <span data-ttu-id="1805e-135">**封裝/發行 SQL**  索引標籤用於舊版的資料庫發行，您將不會使用這些教學課程中的方法。</span><span class="sxs-lookup"><span data-stu-id="1805e-135">The **Package/Publish SQL** tab is used for a legacy database publishing method that you won't be using in these tutorials.</span></span>
- <span data-ttu-id="1805e-136">**Web Deployment 封裝設定**區段不適用，因為您正在使用單鍵發行這些教學課程。</span><span class="sxs-lookup"><span data-stu-id="1805e-136">The **Web Deployment Package Settings** section does not apply because you're using one-click publish in these tutorials.</span></span>

<span data-ttu-id="1805e-137">變更**組態**設為偵錯，若要查看預設設定，用於偵錯組建的下拉式清單方塊。</span><span class="sxs-lookup"><span data-stu-id="1805e-137">Change the **Configuration** drop-down box to Debug to see the default settings for Debug builds.</span></span> <span data-ttu-id="1805e-138">這些值就是相同的除非**排除產生偵錯符號**已清除，以便您可以偵錯，當您部署偵錯組建。</span><span class="sxs-lookup"><span data-stu-id="1805e-138">The values are the same, except **Exclude generated debug symbols** is cleared so that you can debug when you deploy a Debug build.</span></span>

## <a name="make-sure-that-the-elmah-folder-gets-deployed"></a><span data-ttu-id="1805e-139">請確定取得部署 Elmah 資料夾</span><span class="sxs-lookup"><span data-stu-id="1805e-139">Make sure that the Elmah folder gets deployed</span></span>

<span data-ttu-id="1805e-140">如同先前的教學課程[Elmah NuGet 封裝](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx)提供的錯誤記錄和報告功能。</span><span class="sxs-lookup"><span data-stu-id="1805e-140">As you saw in the previous tutorial, the [Elmah NuGet package](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx) provides functionality for error logging and reporting.</span></span> <span data-ttu-id="1805e-141">Contoso 大學應用程式中 Elmah 已設定為將錯誤詳細資料儲存在名為的資料夾*Elmah*:</span><span class="sxs-lookup"><span data-stu-id="1805e-141">In the Contoso University application Elmah has been configured to store error details in a folder named *Elmah*:</span></span>

![Elmah 資料夾](project-properties/_static/image3.png)

<span data-ttu-id="1805e-143">從部署中排除特定檔案或資料夾是常見的需求。另一個範例就是使用者可以上傳檔案的資料夾。</span><span class="sxs-lookup"><span data-stu-id="1805e-143">Excluding specific files or folders from deployment is a common requirement; another example would be a folder that users can upload files to.</span></span> <span data-ttu-id="1805e-144">您不想記錄檔，或開發環境，以便部署到生產環境中所建立的檔案上傳。</span><span class="sxs-lookup"><span data-stu-id="1805e-144">You don't want log files or uploaded files that were created in your development environment to be deployed to production.</span></span> <span data-ttu-id="1805e-145">如果您要部署更新到生產環境，您不想刪除檔案，存在於實際執行部署程序。</span><span class="sxs-lookup"><span data-stu-id="1805e-145">And if you are deploying an update to production you don't want the deployment process to delete files that exist in production.</span></span> <span data-ttu-id="1805e-146">（根據如何設定部署選項，如果檔案存在於目的地站台但未在來源站台部署時，Web Deploy 刪除目的地。）</span><span class="sxs-lookup"><span data-stu-id="1805e-146">(Depending on how you set a deployment option, if a file exists in the destination site but not the source site when you deploy, Web Deploy deletes it from the destination.)</span></span>

<span data-ttu-id="1805e-147">如稍早在本教學課程中，您所見**要部署的項目**選項**封裝/發行 Web**  索引標籤設為**只需要執行此應用程式檔案**。</span><span class="sxs-lookup"><span data-stu-id="1805e-147">As you saw earlier in this tutorial, the **Items to deploy** option in the **Package/Publish Web** tab is set to **Only Files Needed to run this application**.</span></span> <span data-ttu-id="1805e-148">如此一來，可由開發中的 Elmah 的記錄檔將不會部署，這是您想要發生的情況。</span><span class="sxs-lookup"><span data-stu-id="1805e-148">As a result, log files that are created by Elmah in development will not be deployed, which is what you want to happen.</span></span> <span data-ttu-id="1805e-149">(供部署，他們必須包含在專案及其**建置動作**屬性必須設為**內容**。</span><span class="sxs-lookup"><span data-stu-id="1805e-149">(To be deployed, they would have to be included in the project and their **Build Action** property would have to be set to **Content**.</span></span> <span data-ttu-id="1805e-150">如需詳細資訊，請參閱**為什麼沒有 我的專案資料夾中的檔案取得部署所有？** 中[ASP.NET Web 應用程式專案部署常見問題集](https://msdn.microsoft.com/library/ee942158.aspx))。</span><span class="sxs-lookup"><span data-stu-id="1805e-150">For more information, see **Why don't all of the files in my project folder get deployed?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx)).</span></span> <span data-ttu-id="1805e-151">不過，Web Deploy 不會建立資料夾在目的地網站中沒有至少一個要複製到該檔案。</span><span class="sxs-lookup"><span data-stu-id="1805e-151">However, Web Deploy will not create a folder in the destination site unless there's at least one file to copy to it.</span></span> <span data-ttu-id="1805e-152">因此，您會加入 *.txt*檔案到資料夾，以做為預留位置，以便將複製的資料夾。</span><span class="sxs-lookup"><span data-stu-id="1805e-152">Therefore, you'll add a *.txt* file to the folder to act as a placeholder so that the folder will be copied.</span></span>

<span data-ttu-id="1805e-153">在**方案總管 中**，以滑鼠右鍵按一下*Elmah*資料夾中，選取**加入新項目**，並建立名為文字檔*Placeholder.txt*。</span><span class="sxs-lookup"><span data-stu-id="1805e-153">In **Solution Explorer**, right-click the *Elmah* folder, select **Add New Item**, and create a text file named *Placeholder.txt*.</span></span> <span data-ttu-id="1805e-154">放入其中的下列文字: 「 這是預留位置檔案，以確保取得部署資料夾 」。</span><span class="sxs-lookup"><span data-stu-id="1805e-154">Put the following text in it: "This is a placeholder file to ensure that the folder gets deployed."</span></span> <span data-ttu-id="1805e-155">然後儲存檔案。</span><span class="sxs-lookup"><span data-stu-id="1805e-155">and save the file.</span></span> <span data-ttu-id="1805e-156">這就是您必須執行才能確保，Visual Studio 會部署這個檔案和資料夾，因為**建置動作**屬性 *.txt*檔設定成**內容**預設。</span><span class="sxs-lookup"><span data-stu-id="1805e-156">That's all you have to do in order to make sure that Visual Studio deploys this file and the folder it's in, because the **Build Action** property of *.txt* files is set to **Content** by default.</span></span>

## <a name="summary"></a><span data-ttu-id="1805e-157">總結</span><span class="sxs-lookup"><span data-stu-id="1805e-157">Summary</span></span>

<span data-ttu-id="1805e-158">您現在已完成所有的部署設定工作。</span><span class="sxs-lookup"><span data-stu-id="1805e-158">You have now completed all of the deployment set-up tasks.</span></span> <span data-ttu-id="1805e-159">在下一個教學課程中，將 Contoso 大學網站部署到測試環境和測試其存在。</span><span class="sxs-lookup"><span data-stu-id="1805e-159">In the next tutorial, you'll deploy the Contoso University site to the test environment and test it there.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1805e-160">[上一頁](web-config-transformations.md)
> [下一頁](deploying-to-iis.md)</span><span class="sxs-lookup"><span data-stu-id="1805e-160">[Previous](web-config-transformations.md)
[Next](deploying-to-iis.md)</span></span>
