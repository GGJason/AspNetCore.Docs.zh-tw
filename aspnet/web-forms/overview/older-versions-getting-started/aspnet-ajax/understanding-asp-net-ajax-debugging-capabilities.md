---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
title: 了解偵錯功能的 ASP.NET AJAX |Microsoft 文件
author: scottcate
description: 若要偵錯程式碼的功能是每個開發人員應該要有其利器，無論他們所使用的技術的技術。 雖然許多開發人員...
ms.author: aspnetcontent
manager: wpickett
ms.date: 03/28/2008
ms.topic: article
ms.assetid: 7f9380c6-19f7-4c82-a019-916ec6dffc9c
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-debugging-capabilities
msc.type: authoredcontent
ms.openlocfilehash: f082e2206f5e691579670e42634f30b57e3b3593
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/06/2018
ms.locfileid: "30890927"
---
<a name="understanding-aspnet-ajax-debugging-capabilities"></a><span data-ttu-id="bb4ed-104">了解 ASP.NET AJAX 偵錯功能</span><span class="sxs-lookup"><span data-stu-id="bb4ed-104">Understanding ASP.NET AJAX Debugging Capabilities</span></span>
====================
<span data-ttu-id="bb4ed-105">由[Scott 類別](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="bb4ed-106">下載 PDF</span><span class="sxs-lookup"><span data-stu-id="bb4ed-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial06_Debugging_MS_Ajax_Applications_cs.pdf)

> <span data-ttu-id="bb4ed-107">若要偵錯程式碼的功能是每個開發人員應該要有其利器，無論他們所使用的技術的技術。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-107">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="bb4ed-108">許多開發人員都習慣使用 Visual Studio.NET 或 Web Developer Express 偵錯 ASP.NET 應用程式使用 VB.NET 或 C# 程式碼，而不某些注意，它是也非常適合用來偵錯 JavaScript 等用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-108">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="bb4ed-109">啟用 AJAX 的應用程式和更明確地說 ASP.NET AJAX 應用程式也可以套用相同類型的偵錯.NET 應用程式使用的技術。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-109">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>


## <a name="debugging-aspnet-ajax-applications"></a><span data-ttu-id="bb4ed-110">偵錯 ASP.NET AJAX 應用程式</span><span class="sxs-lookup"><span data-stu-id="bb4ed-110">Debugging ASP.NET AJAX Applications</span></span>

<span data-ttu-id="bb4ed-111">Dan Wahlin</span><span class="sxs-lookup"><span data-stu-id="bb4ed-111">Dan Wahlin</span></span>

<span data-ttu-id="bb4ed-112">若要偵錯程式碼的功能是每個開發人員應該要有其利器，無論他們所使用的技術的技術。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-112">The ability to debug code is a skill that every developer should have in their arsenal regardless of the technology they're using.</span></span> <span data-ttu-id="bb4ed-113">不用說，了解可用的不同的偵錯選項可以節省極大的時間的專案和甚至幾個問題。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-113">It goes without saying that understanding the different debugging options that are available can save a tremendous amount of time on a project and perhaps even a few headaches.</span></span> <span data-ttu-id="bb4ed-114">許多開發人員都習慣使用 Visual Studio.NET 或 Web Developer Express 偵錯 ASP.NET 應用程式使用 VB.NET 或 C# 程式碼，而不某些注意，它是也非常適合用來偵錯 JavaScript 等用戶端程式碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-114">While many developers are accustomed to using Visual Studio .NET or Web Developer Express to debug ASP.NET applications that use VB.NET or C# code, some aren't aware that it's also extremely useful for debugging client-side code such as JavaScript.</span></span> <span data-ttu-id="bb4ed-115">啟用 AJAX 的應用程式和更明確地說 ASP.NET AJAX 應用程式也可以套用相同類型的偵錯.NET 應用程式使用的技術。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-115">The same type of techniques used to debug .NET applications can also be applied to AJAX-enabled applications and more specifically ASP.NET AJAX applications.</span></span>

<span data-ttu-id="bb4ed-116">在本文中，您會看到如何偵錯來快速找出 bug 和其他問題的 ASP.NET AJAX 應用程式使用 Visual Studio 2008 和許多其他工具。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-116">In this article you'll see how Visual Studio 2008 and several other tools can be used to debug ASP.NET AJAX applications to quickly locate bugs and other issues.</span></span> <span data-ttu-id="bb4ed-117">本討論將包含啟用 Internet Explorer 6 或更新版本，偵錯、 逐步執行程式碼使用 Visual Studio 2008 與指令碼總管，以及使用其他可用的工具，例如 Web 開發協助程式的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-117">This discussion will include information about enabling Internet Explorer 6 or higher for debugging, using Visual Studio 2008 and the Script Explorer to step through code as well as using other free tools such as Web Development Helper.</span></span> <span data-ttu-id="bb4ed-118">您也將學習如何在 Firefox 中使用擴充功能命名為 firebug 這類可以讓您逐步執行 JavaScript 程式碼直接在沒有任何其他工具的瀏覽器中的 ASP.NET AJAX 應用程式進行偵錯。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-118">You'll also learn how to debug ASP.NET AJAX applications in Firefox using an extension named Firebug which lets you step through JavaScript code directly in the browser without any other tools.</span></span> <span data-ttu-id="bb4ed-119">最後，您將介紹有助於不同的偵錯工作，例如追蹤和程式碼的判斷提示陳述式與 ASP.NET AJAX 程式庫中的類別。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-119">Finally, you'll be introduced to classes in the ASP.NET AJAX Library that can help with various debugging tasks such as tracing and code assertion statements.</span></span>

<span data-ttu-id="bb4ed-120">您嘗試偵錯 Internet Explorer 中檢視的頁面之前有一些您需要執行以啟用偵錯的基本步驟。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-120">Before you try to debug pages viewed in Internet Explorer there are a few basic steps you'll need to perform to enable it for debugging.</span></span> <span data-ttu-id="bb4ed-121">讓我們看看需要若要開始執行一些基本設定需求。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-121">Let's take a look at some basic setup requirements that need to be performed to get started.</span></span>

## <a name="configuring-internet-explorer-for-debugging"></a><span data-ttu-id="bb4ed-122">設定 Internet Explorer 偵錯</span><span class="sxs-lookup"><span data-stu-id="bb4ed-122">Configuring Internet Explorer for Debugging</span></span>

<span data-ttu-id="bb4ed-123">大部分的人不感興趣 JavaScript 會使用 Internet Explorer 檢視網站上遇到的問題。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-123">Most people aren't interested in seeing JavaScript issues encountered on a Website viewed with Internet Explorer.</span></span> <span data-ttu-id="bb4ed-124">事實上，一般使用者可能不甚至知道該怎麼辦看到一則錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-124">In fact, the average user wouldn't even know what to do if they saw an error message.</span></span> <span data-ttu-id="bb4ed-125">如此一來，偵錯選項會關閉預設會在瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-125">As a result, debugging options are turned off by default in the browser.</span></span> <span data-ttu-id="bb4ed-126">不過，它是非常簡單，開啟偵錯，並將其做為開發新 AJAX 應用程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-126">However, it's very straightforward to turn debugging on and put it to use as you develop new AJAX applications.</span></span>

<span data-ttu-id="bb4ed-127">若要啟用偵錯功能，請移至 Internet Explorer 功能表上的工具網際網路選項並選取 進階 索引標籤。瀏覽 區段中，請確定下列項目已取消選取：</span><span class="sxs-lookup"><span data-stu-id="bb4ed-127">To enable debugging functionality, go to Tools Internet Options on the Internet Explorer menu and select the Advanced tab. Within the Browsing section ensure that the following items are unchecked:</span></span>

- <span data-ttu-id="bb4ed-128">停用指令碼除錯 (Internet Explorer)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-128">Disable script debugging (Internet Explorer)</span></span>
- <span data-ttu-id="bb4ed-129">停用指令碼除錯 （其他）</span><span class="sxs-lookup"><span data-stu-id="bb4ed-129">Disable script debugging (Other)</span></span>

<span data-ttu-id="bb4ed-130">雖然不必要的如果您嘗試偵錯應用程式，您可能會想要立即可見及明顯頁面中的任何 JavaScript 錯誤。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-130">Although not required, if you're trying to debug an application you'll probably want any JavaScript errors in the page to be immediately visible and obvious.</span></span> <span data-ttu-id="bb4ed-131">您可以強制所有藉由檢查 「 顯示每個指令碼錯誤的相關通知 」 核取方塊，以訊息方塊顯示的錯誤。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-131">You can force all errors to be shown with a message box by checking the "Display a notification about every script error" checkbox.</span></span> <span data-ttu-id="bb4ed-132">雖然這是一個絕佳的選項，雖然您正在開發應用程式開啟時，它可以快速地成為造成困擾，如果您只因為發生 JavaScript 錯誤的機率都相當好研究其他網站。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-132">While this is a great option to turn on while you're developing an application, it can quickly become annoying if you're just perusing other Websites since your chances of encountering JavaScript errors are pretty good.</span></span>

<span data-ttu-id="bb4ed-133">它已正確設定偵錯之後，看起來應該圖 1 顯示哪些 Internet Explorer 進階 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-133">Figure 1 shows what the Internet Explorer advanced dialog should look after it has been properly configured for debugging.</span></span>


<span data-ttu-id="bb4ed-134">[![設定 Internet Explorer 偵錯。](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-134">[![Configuring Internet Explorer for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image2.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image1.png)</span></span>

<span data-ttu-id="bb4ed-135">**圖 1**： 偵錯設定 Internet Explorer。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-135">**Figure 1**: Configuring Internet Explorer for debugging.</span></span>  <span data-ttu-id="bb4ed-136">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-136">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image3.png))</span></span>


<span data-ttu-id="bb4ed-137">偵錯已開啟，您會看到新的功能表項目，會出現在名為指令碼偵錯工具的 [檢視] 功能表。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-137">Once debugging has been turned on, you'll see a new menu item appear in the View menu named Script Debugger.</span></span> <span data-ttu-id="bb4ed-138">它在下一個陳述式有兩個選項可用，包括開啟和中斷。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-138">It has two options available including Open and Break at Next Statement.</span></span> <span data-ttu-id="bb4ed-139">選取開啟時將會提示您進行偵錯 Visual Studio 2008 （請注意，Visual Web Developer Express 也會用於偵錯） 中的頁面。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-139">When Open is selected you'll be prompted to debug the page in Visual Studio 2008 (note that Visual Web Developer Express can also be used for debugging).</span></span> <span data-ttu-id="bb4ed-140">如果目前正在執行 Visual Studio.NET，您可以選擇使用該執行個體，或建立的新執行個體。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-140">If Visual Studio .NET is currently running you can choose to use that instance or to create a new instance.</span></span> <span data-ttu-id="bb4ed-141">選取下一個陳述式處中斷時將會提示您執行 JavaScript 程式碼時，偵錯網頁。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-141">When Break at Next Statement is selected you'll be prompted to debug the page when JavaScript code is executed.</span></span> <span data-ttu-id="bb4ed-142">如果 JavaScript 程式碼執行的 onLoad 事件的頁面中，您可以重新整理頁面以觸發偵錯工作階段。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-142">If JavaScript code executes in the onLoad event of the page you can refresh the page to trigger a debug session.</span></span> <span data-ttu-id="bb4ed-143">如果 JavaScript 程式碼執行之後的 button 已按下然後偵錯工具會在按下按鈕之後，立即執行。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-143">If JavaScript code is run after a button is clicked then the debugger will run immediately after the button is clicked.</span></span>

> <span data-ttu-id="bb4ed-144">*> [!NOTE] 如果您要啟用，使用者存取控制 (UAC) 的 Windows Vista 上執行，而且您擁有設定為系統管理員身分執行 Visual Studio 2008，Visual Studio 將無法附加至處理序，當系統提示您附加。若要解決此問題，請啟動 Visual Studio 第一次，並使用該執行個體來偵錯。*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-144">*> [!NOTE] if you are running on Windows Vista with User Access Control (UAC) enabled, and you have Visual Studio 2008 set to run as an administrator, Visual Studio will fail to attach to the process when you are prompted to attach. To work around this issue, start Visual Studio first, and use that instance to debug.*</span></span>


<span data-ttu-id="bb4ed-145">雖然下一節將示範如何偵錯 ASP.NET AJAX 頁面直接從 Visual Studio 2008 中的，使用 Internet Explorer 指令碼偵錯工具選項時，頁面已經開啟，且您想要更完整檢查它。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-145">Although the next section will demonstrate how to debug an ASP.NET AJAX page directly from within Visual Studio 2008, using the Internet Explorer Script Debugger option is useful when a page is already open and you'd like to more fully inspect it.</span></span>

## <a name="debugging-with-visual-studio-2008"></a><span data-ttu-id="bb4ed-146">使用 Visual Studio 2008 偵錯</span><span class="sxs-lookup"><span data-stu-id="bb4ed-146">Debugging with Visual Studio 2008</span></span>

<span data-ttu-id="bb4ed-147">Visual Studio 2008 提供世界各地的開發人員必須依賴每天偵錯.NET 應用程式的偵錯功能。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-147">Visual Studio 2008 provides debugging functionality that developers around the world rely on everyday to debug .NET applications.</span></span> <span data-ttu-id="bb4ed-148">內建的偵錯工具可讓您逐步執行程式碼，呼叫堆疊以及執行更多，監視物件資料，對於特定變數，監看式 檢視。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-148">The built-in debugger allows you to step through code, view object data, watch for specific variables, monitor the call stack plus much more.</span></span> <span data-ttu-id="bb4ed-149">除了在 VB.NET 或 C# 程式碼進行偵錯，偵錯工具也很有用的偵錯 ASP.NET AJAX 應用程式，並可讓您逐步執行逐行 JavaScript 程式碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-149">In addition to debugging VB.NET or C# code, the debugger is also helpful for debugging ASP.NET AJAX applications and will allow you to step through JavaScript code line by line.</span></span> <span data-ttu-id="bb4ed-150">遵循焦點可用來偵錯用戶端指令碼檔案，而不是提供 discourse 偵錯使用 Visual Studio 2008 的應用程式的整體程序上的技術詳細資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-150">The details that follow focus on techniques that can be used to debug client-side script files rather than providing a discourse on the overall process of debugging applications using Visual Studio 2008.</span></span>

<span data-ttu-id="bb4ed-151">可以數種不同的方式啟動的程序的偵錯 Visual Studio 2008 中的頁面。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-151">The process of debugging a page in Visual Studio 2008 can be started in several different ways.</span></span> <span data-ttu-id="bb4ed-152">首先，您可以使用上一節中所述的 Internet Explorer 指令碼偵錯工具選項。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-152">First, you can use the Internet Explorer Script Debugger option mentioned in the previous section.</span></span> <span data-ttu-id="bb4ed-153">這適用於網頁已經載入瀏覽器中，您想要開始偵錯時正常。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-153">This works well when a page is already loaded in the browser and you'd like to start debugging it.</span></span> <span data-ttu-id="bb4ed-154">或者，您可以在 方案總管 中的.aspx 頁面上按一下滑鼠右鍵，並從功能表選取 設定為起始頁。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-154">Alternatively, you can right-click on an .aspx page in the Solution Explorer and select Set As Start Page from the menu.</span></span> <span data-ttu-id="bb4ed-155">如果您已經習慣偵錯 ASP.NET 網頁然後可能完成之前。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-155">If you're accustomed to debugging ASP.NET pages then you've probably done this before.</span></span> <span data-ttu-id="bb4ed-156">一旦按下 F5 就可以偵錯頁面。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-156">Once F5 is pressed the page can be debugged.</span></span> <span data-ttu-id="bb4ed-157">不過，您通常可以任意處設定中斷點時您會希望在 VB.NET 或 C# 程式碼中，不一定是以 JavaScript 接下來，您會看到。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-157">However, while you can generally set a breakpoint anywhere you'd like in VB.NET or C# code, that's not always the case with JavaScript as you'll see next.</span></span>

<span data-ttu-id="bb4ed-158">*內嵌與外部指令碼*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-158">*Embedded Versus External Scripts*</span></span>

<span data-ttu-id="bb4ed-159">Visual Studio 2008 偵錯工具會將內嵌於頁面外部的 JavaScript 檔案不同的 JavaScript。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-159">The Visual Studio 2008 debugger treats JavaScript embedded in a page different than external JavaScript files.</span></span> <span data-ttu-id="bb4ed-160">外部指令碼檔案時，您可以開啟檔案，並在您選擇的任何行上設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-160">With external script files, you can open the file and set a breakpoint on any line you choose.</span></span> <span data-ttu-id="bb4ed-161">按一下程式碼編輯器視窗左邊灰色的紙匣區域中，可以設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-161">Breakpoints can be set by clicking in the grey tray area to the left of the code editor window.</span></span> <span data-ttu-id="bb4ed-162">當 JavaScript 直接內嵌至頁面上，使用`<script>`標籤中，按一下灰色的紙匣區域中設定中斷點不可行。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-162">When JavaScript is embedded directly into a page using the `<script>` tag, setting a breakpoint by clicking in the grey tray area isn't an option.</span></span> <span data-ttu-id="bb4ed-163">內嵌指令碼的行上設定中斷點的嘗試會導致警告，指出 「 這不是有效的中斷點位置 」。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-163">Attempts to set a breakpoint on a line of embedded script will result in a warning that states "This is not a valid location for a breakpoint".</span></span>

<span data-ttu-id="bb4ed-164">您可以取得解決此問題的程式碼移到外部的.js 檔案，並參考使用的 src 屬性&lt;指令碼&gt;標記：</span><span class="sxs-lookup"><span data-stu-id="bb4ed-164">You can get around this issue by moving the code into an external .js file and referencing it using the src attribute of the &lt;script&gt; tag:</span></span>


[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample1.html)]

<span data-ttu-id="bb4ed-165">如果程式碼移到外部的檔案不是選項或需要比它的多個工作是值得？</span><span class="sxs-lookup"><span data-stu-id="bb4ed-165">What if moving the code into an external file isn't an option or requires more work than it's worth?</span></span> <span data-ttu-id="bb4ed-166">雖然您無法設定中斷點，使用編輯器 中，您可以新增直接在您想要開始偵錯的程式碼的偵錯工具陳述式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-166">While you can't set a breakpoint using the editor, you can add the debugger statement directly into the code where you'd like to start debugging.</span></span> <span data-ttu-id="bb4ed-167">您也可以使用 ASP.NET AJAX 程式庫中的可用 Sys.Debug 類別來強制啟動偵錯。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-167">You can also use the Sys.Debug class available in the ASP.NET AJAX library to force debugging to start.</span></span> <span data-ttu-id="bb4ed-168">您將進一步了解本文中稍後的 Sys.Debug 類別。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-168">You'll learn more about the Sys.Debug class later in this article.</span></span>

<span data-ttu-id="bb4ed-169">示範如何使用`debugger`關鍵字以列表 1 所示。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-169">An example of using the `debugger` keyword is shown in Listing 1.</span></span> <span data-ttu-id="bb4ed-170">此範例會強制偵錯工具右上更新函式呼叫之前。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-170">This example forces the debugger to break right before a call to an update function is made.</span></span>

<span data-ttu-id="bb4ed-171">**清單 1。您可以使用偵錯工具關鍵字來強制執行 Visual Studio.NET 偵錯工具中斷。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-171">**Listing 1. Using the debugger keyword to force the Visual Studio .NET debugger to break.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample2.js)]

<span data-ttu-id="bb4ed-172">一旦叫用偵錯工具陳述式將會提示您進行偵錯使用 Visual Studio.NET 的網頁，並逐步執行程式碼就可以開始。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-172">Once the debugger statement is hit you will be prompted to debug the page using Visual Studio .NET and can begin stepping through the code.</span></span> <span data-ttu-id="bb4ed-173">執行您可能會與存取 ASP.NET AJAX 程式庫指令碼檔案，因此讓我們先使用於頁面發生問題時看看使用 Visual Studio。網路的指令碼總管。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-173">While doing this you may encounter an issue with accessing ASP.NET AJAX library script files used in the page so let's take a look at using Visual Studio .NET's Script Explorer.</span></span>

## <a name="using-visual-studio-net-windows-to-debug"></a><span data-ttu-id="bb4ed-174">使用 Visual Studio.NET 視窗來偵錯</span><span class="sxs-lookup"><span data-stu-id="bb4ed-174">Using Visual Studio .NET Windows to Debug</span></span>

<span data-ttu-id="bb4ed-175">一旦啟動偵錯工作階段並開始逐步解說的程式碼使用預設 F11 鍵，您可能會遇到錯誤對話方塊所示請參閱圖 2，除非在網頁中使用的所有指令碼檔案是開啟且可供偵錯。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-175">Once a debug session is started and you begin walking through code using the default F11 key, you may encounter the error dialog shown in see Figure 2 unless all script files used in the page are open and available for debugging.</span></span>


<span data-ttu-id="bb4ed-176">[![適用於偵錯沒有原始程式碼時會顯示錯誤對話方塊。](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-176">[![Error dialog shown when no source code is available for debugging.](understanding-asp-net-ajax-debugging-capabilities/_static/image5.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image4.png)</span></span>

<span data-ttu-id="bb4ed-177">**圖 2**： 沒有原始程式碼不用於偵錯時顯示錯誤對話方塊。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-177">**Figure 2**: Error dialog shown when no source code is available for debugging.</span></span>  <span data-ttu-id="bb4ed-178">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-178">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image6.png))</span></span>


<span data-ttu-id="bb4ed-179">因為 Visual Studio.NET 不確定如何取得一些此網頁所參考的指令碼的原始碼，會顯示此對話方塊。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-179">This dialog is shown because Visual Studio .NET isn't sure how to get to the source code of some of the scripts referenced by the page.</span></span> <span data-ttu-id="bb4ed-180">這可以是很不方便而在一開始，沒有簡單的修正。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-180">While this can be quite frustrating at first, there's a simple fix.</span></span> <span data-ttu-id="bb4ed-181">一旦您啟動偵錯工作階段並叫用中斷點，請移至 [偵錯 Windows 指令碼總管] 視窗，在 Visual Studio 2008 功能表上，或使用 Ctrl + Alt + N 快速鍵。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-181">Once you have started a debug session and hit a breakpoint, go to the Debug Windows Script Explorer window on the Visual Studio 2008 menu or use the Ctrl+Alt+N hotkey.</span></span>

> <span data-ttu-id="bb4ed-182">*> [!NOTE] 如果看不到列出的指令碼總管功能表，請移至 工具**自訂* *Visual Studio.NET 功能表上的命令。在 [類別] 區段中尋找偵錯項目，然後按一下來顯示所有可用的功能表項目。在命令清單中，向下捲動至 [指令碼總管]，然後將其拖曳到偵錯* *Windows 功能表中的先前所述。這樣會提供指令碼總管 功能表項目每次執行 Visual Studio.NET。*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-182">*> [!NOTE] If you can't see the Script Explorer menu listed, go to Tools* *Customize* *Commands on the Visual Studio .NET menu. Locate the Debug entry in the Categories section and click it to show all available menu entries. In the Commands list, scroll down to Script Explorer and then drag it up onto the Debug* *Windows menu in mentioned earlier. Doing this will make the Script Explorer menu entry available each time you run Visual Studio .NET.*</span></span>


<span data-ttu-id="bb4ed-183">指令碼總管可用來檢視在網頁中使用的所有指令碼，並在程式碼編輯器中開啟它們。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-183">The Script Explorer can be used to view all scripts used in a page and open them in the code editor.</span></span> <span data-ttu-id="bb4ed-184">一旦開啟 [指令碼總管] 中，按兩下目前所偵錯程式碼編輯器視窗中開啟.aspx 網頁。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-184">Once the Script Explorer is open, double-click on the .aspx page currently being debugged to open it in the code editor window.</span></span> <span data-ttu-id="bb4ed-185">所有其他指令碼總管 中顯示的指令碼執行相同的動作。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-185">Perform the same action for all of the other scripts shown in the Script Explorer.</span></span> <span data-ttu-id="bb4ed-186">所有指令碼已在您可以在程式碼視窗中開啟後按下 F11 （並使用其他的偵錯快速鍵） 來逐步執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-186">Once all of the scripts are open in the code window you can press F11 (and use the other debug hotkeys) to step through your code.</span></span> <span data-ttu-id="bb4ed-187">圖 3 顯示指令碼總管的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-187">Figure 3 shows an example of the Script Explorer.</span></span> <span data-ttu-id="bb4ed-188">它會列出目前的檔案進行偵錯 (Demo.aspx) 以及兩個自訂指令碼和兩個指令碼以動態方式插入頁面的 ASP.NET AJAX ScriptManager。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-188">It lists the current file being debugged (Demo.aspx) as well as two custom scripts and two scripts dynamically injected into the page by the ASP.NET AJAX ScriptManager.</span></span>


<span data-ttu-id="bb4ed-189">[![指令碼總管 提供讓您輕鬆存取 頁面中使用的指令碼。](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-189">[![The Script Explorer provides easy access to scripts used in a page.](understanding-asp-net-ajax-debugging-capabilities/_static/image8.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image7.png)</span></span>

<span data-ttu-id="bb4ed-190">**圖 3**。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-190">**Figure 3**.</span></span> <span data-ttu-id="bb4ed-191">指令碼總管 提供讓您輕鬆存取 頁面中使用的指令碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-191">The Script Explorer provides easy access to scripts used in a page.</span></span>  <span data-ttu-id="bb4ed-192">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-192">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image9.png))</span></span>


<span data-ttu-id="bb4ed-193">其他視窗也可用來提供有用的資訊，當您逐步執行程式碼，在網頁中。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-193">Several others windows can also be used to provide useful information as you step through code in a page.</span></span> <span data-ttu-id="bb4ed-194">例如，您可以使用 [區域變數] 視窗來檢視不同頁面上，評估特定變數或條件並檢視輸出即時運算視窗中所使用的變數值。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-194">For example, you can use the Locals window to see the values of different variables used in the page, the Immediate window to evaluate specific variables or conditions and view the output.</span></span> <span data-ttu-id="bb4ed-195">您也可以使用 [輸出] 視窗來檢視追蹤陳述式寫出使用 Sys.Debug.trace 函式 （這將在本文稍後討論） 或 Internet Explorer Debug.writeln 函式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-195">You can also use the Output window to view trace statements written out using the Sys.Debug.trace function (which will be covered later in this article) or Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="bb4ed-196">當您逐步執行程式碼使用偵錯工具可以滑鼠移過程式碼 檢視時將獲指派的值中的變數。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-196">As you step through code using the debugger you can mouse over variables in the code to view the value that they are assigned.</span></span> <span data-ttu-id="bb4ed-197">不過，指令碼偵錯工具有時不會顯示任何項目為滑鼠移過指定的 JavaScript 變數。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-197">However, the script debugger occasionally won't show anything as you mouse over a given JavaScript variable.</span></span> <span data-ttu-id="bb4ed-198">若要查看的值，反白顯示陳述式或您嘗試在程式碼編輯器視窗中看到和滑鼠游標移至的變數。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-198">To see the value, highlight the statement or variable you're trying to see in the code editor window and then mouse over it.</span></span> <span data-ttu-id="bb4ed-199">雖然每一種情況不會使用這項技術，許多次您將能夠看到而不需要在不同的偵錯視窗，例如 [區域變數] 視窗中尋找的值。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-199">Although this technique doesn't work in every situation, many times you will be able to see the value without having to look in a different debug window such as the Locals window.</span></span>

<span data-ttu-id="bb4ed-200">示範的某些功能這裡所討論的視訊教學課程可以在檢視[ http://www.xmlforasp.net ](http://www.xmlforasp.net)。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-200">A video tutorial demonstrating some of the features discussed here can be viewed at [http://www.xmlforasp.net](http://www.xmlforasp.net).</span></span>

## <a name="debugging-with-web-development-helper"></a><span data-ttu-id="bb4ed-201">使用 Web 開發協助程式進行偵錯</span><span class="sxs-lookup"><span data-stu-id="bb4ed-201">Debugging With Web Development Helper</span></span>

<span data-ttu-id="bb4ed-202">雖然 Visual Studio 2008 （和 Visual Web Developer Express 2008） 是偵錯工具功能非常強，還有其他選項也可以使用，也就是一個輕量。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-202">Although Visual Studio 2008 (and Visual Web Developer Express 2008) are very capable debugging tools, there are additional options that can be used as well which are more light-weight.</span></span> <span data-ttu-id="bb4ed-203">釋出最新的工具之一是 Web 開發協助程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-203">One of the latest tools to be released is the Web Development Helper.</span></span> <span data-ttu-id="bb4ed-204">Microsoft 的 Nikhil Kothari （一個在 Microsoft 索引鍵的 ASP.NET AJAX 架構設計人員） 所撰寫的絕佳工具可以從簡單偵錯，以檢視的 HTTP 要求和回應訊息執行許多不同的工作。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-204">Microsoft's Nikhil Kothari (one of the key ASP.NET AJAX architects at Microsoft) wrote this excellent tool which can perform many different tasks from simple debugging to viewing HTTP request and response messages.</span></span> <span data-ttu-id="bb4ed-205">Web 開發協助程式的下載網址[ http://projects.nikhilk.net/Projects/WebDevHelper.aspx ](http://projects.nikhilk.net/Projects/WebDevHelper.aspx)。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-205">Web Development Helper can be downloaded at [http://projects.nikhilk.net/Projects/WebDevHelper.aspx](http://projects.nikhilk.net/Projects/WebDevHelper.aspx).</span></span>

<span data-ttu-id="bb4ed-206">這可讓您更方便使用 Internet Explorer 內直接可用 web 開發協助程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-206">Web Development helper can be used directly inside of Internet Explorer which makes it convenient to use.</span></span> <span data-ttu-id="bb4ed-207">它會從 Internet Explorer 功能表中選取工具 Web 開發協助程式開始。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-207">It's started by selecting Tools Web Development Helper from the Internet Explorer menu.</span></span> <span data-ttu-id="bb4ed-208">這會很好，因為您不必離開執行數個工作，例如，HTTP 要求和回應訊息記錄瀏覽器的瀏覽器的下半部中開啟此工具。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-208">This will open the tool in the bottom portion of the browser which is nice since you don't have to leave the browser to perform several tasks such as HTTP request and response message logging.</span></span> <span data-ttu-id="bb4ed-209">圖 4 顯示 Web 開發協助程式在動作中的外觀。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-209">Figure 4 shows what Web Development Helper looks like in action.</span></span>


<span data-ttu-id="bb4ed-210">[![Web 開發協助程式](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-210">[![Web Development Helper](understanding-asp-net-ajax-debugging-capabilities/_static/image11.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image10.png)</span></span>

<span data-ttu-id="bb4ed-211">**圖 4**: Web 開發協助程式 ([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-211">**Figure 4**: Web Development Helper  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image12.png))</span></span>


<span data-ttu-id="bb4ed-212">Web 開發協助程式不是您將使用的工具來逐步執行逐行程式碼做為 Visual Studio 2008。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-212">Web Development helper isn't a tool you'll use to step through code line by line as with Visual Studio 2008.</span></span> <span data-ttu-id="bb4ed-213">不過，它可用來檢視追蹤輸出，輕鬆地評估指令碼中的變數，或瀏覽資料是在 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-213">However, it can be used to view trace output, easily evaluate variables in a script or explore data is inside of a JSON object.</span></span> <span data-ttu-id="bb4ed-214">它也是非常有用的檢視 ASP.NET AJAX 頁面和伺服器來回傳遞資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-214">It's also very useful for viewing data that is passed to and from an ASP.NET AJAX page and a server.</span></span>

<span data-ttu-id="bb4ed-215">在 Internet Explorer 中開啟 Web 開發協助程式後，指令碼偵錯必須啟用指令碼啟用指令碼偵錯從網頁程式開發 helper 功能表選取稍早在圖 4 所示。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-215">Once Web Development Helper is open in Internet Explorer, script debugging must be enabled by selecting Script Enable Script Debugging from the Web Development helper menu as shown earlier in Figure 4.</span></span> <span data-ttu-id="bb4ed-216">這可讓執行網頁時，就會發生的攔截錯誤工具。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-216">This enables the tool to intercept errors that occur as a page is run.</span></span> <span data-ttu-id="bb4ed-217">它也可讓您輕鬆存取追蹤訊息內的頁面之輸出。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-217">It also allows easy access to trace messages that are output in the page.</span></span> <span data-ttu-id="bb4ed-218">若要檢視追蹤資訊或執行指令碼命令，以測試不同的函數，在一頁，選取 從 Web 開發協助程式功能表的 指令碼顯示指令碼主控台。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-218">To view trace information or execute script commands to test different functions within a page, select Script Show Script Console from the Web Development Helper menu.</span></span> <span data-ttu-id="bb4ed-219">這會提供存取命令視窗，以及簡單的 [即時運算] 視窗。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-219">This provides access to a command window and a simple immediate window.</span></span>

<span data-ttu-id="bb4ed-220">*檢視追蹤訊息和 JSON 物件資料*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-220">*Viewing Trace Messages and JSON Object Data*</span></span>

<span data-ttu-id="bb4ed-221">即時運算視窗可用來執行指令碼命令，或甚至載入或儲存指令碼，可用來在網頁中測試不同的函式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-221">The immediate window can be used to execute script commands or even load or save scripts that are used to test different functions in a page.</span></span> <span data-ttu-id="bb4ed-222">[命令] 視窗會顯示正在檢視的頁面寫出追蹤或偵錯訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-222">The command window displays trace or debug messages written out by the page being viewed.</span></span> <span data-ttu-id="bb4ed-223">表 2 顯示如何將寫入追蹤訊息，使用 Internet Explorer Debug.writeln 函式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-223">Listing 2 shows how to write a trace message using Internet Explorer's Debug.writeln function.</span></span>

<span data-ttu-id="bb4ed-224">**表 2。寫出使用 Debug 類別的用戶端追蹤訊息。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-224">**Listing 2. Writing out a client-side trace message using the Debug class.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample3.js)]

<span data-ttu-id="bb4ed-225">如果 LastName 屬性包含值為 Doe，Web 開發 Helper 會顯示訊息 「 人員名稱： Doe 」 在指令碼主控台的命令 視窗 （假設，偵錯已啟用）。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-225">If the LastName property contains a value of Doe, Web Development Helper will display the message "Person name: Doe" in the script console's command window (assuming that debugging has been enabled).</span></span> <span data-ttu-id="bb4ed-226">Web 開發協助程式也會將最上層 debugService 物件新增到可以用來寫出追蹤資訊，或檢視 JSON 物件的內容頁面。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-226">Web Development Helper also adds a top-level debugService object into pages that can be used to write out trace information or view the content of JSON objects.</span></span> <span data-ttu-id="bb4ed-227">列出 3 顯示使用 debugService 類別的追蹤函式的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-227">Listing 3 shows an example of using the debugService class's trace function.</span></span>

<span data-ttu-id="bb4ed-228">**列出 3。您可以使用 Web 開發協助專家的 debugService 類別來寫入追蹤訊息。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-228">**Listing 3. Using Web Development Helper's debugService class to write a trace message.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample4.js)]

<span data-ttu-id="bb4ed-229">DebugService 類別的方便的功能是可即使未啟用偵錯在 Internet Explorer 中以便輕鬆地 Web 開發協助程式執行時存取追蹤的資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-229">A nice feature of the debugService class is that it will work even if debugging isn't enabled in Internet Explorer making it easy to always access trace data when Web Development Helper is running.</span></span> <span data-ttu-id="bb4ed-230">當此工具不用來偵錯網頁時，因為 window.debugService 呼叫將傳回 false，將會忽略追蹤陳述式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-230">When the tool isn't being used to debug a page, trace statements will be ignored since the call to window.debugService will return false.</span></span>

<span data-ttu-id="bb4ed-231">DebugService 類別也可讓 Web 開發協助專家的偵測器視窗檢視 JSON 物件資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-231">The debugService class also allows JSON object data to be viewed using Web Development Helper's inspector window.</span></span> <span data-ttu-id="bb4ed-232">列出 4 建立簡單的 JSON 物件，包含個人資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-232">Listing 4 creates a simple JSON object containing person data.</span></span> <span data-ttu-id="bb4ed-233">一旦建立物件之後，進行呼叫以 debugService 類別的檢查功能，允許以視覺化方式檢查的 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-233">Once the object is created, a call is made to the debugService class's inspect function to allow the JSON object to be visually inspected.</span></span>

<span data-ttu-id="bb4ed-234">**列出 4。若要檢視物件的 JSON 資料使用 debugService.inspect 函式。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-234">**Listing 4. Using the debugService.inspect function to view JSON object data.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample5.js)]

<span data-ttu-id="bb4ed-235">在網頁或透過即時運算視窗呼叫 GetPerson() 函式會導致出現如圖 5 所示物件偵測器對話方塊視窗。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-235">Calling the GetPerson() function in the page or through the immediate window will result in the Object Inspector dialog window appearing as shown in Figure 5.</span></span> <span data-ttu-id="bb4ed-236">在物件內的屬性可以動態變更反白，變更 [值] 文字方塊中所顯示的值，然後按一下 [更新] 連結。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-236">Properties within the object can be changed dynamically by highlighting them, changing the value shown in the Value text box and then clicking the Update link.</span></span> <span data-ttu-id="bb4ed-237">使用物件偵測器會直接檢視 JSON 物件的資料和試驗不同的值套用至屬性。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-237">Using the Object Inspector makes it straightforward to view JSON object data and experiment with applying different values to properties.</span></span>

<span data-ttu-id="bb4ed-238">*偵錯錯誤*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-238">*Debugging Errors*</span></span>

<span data-ttu-id="bb4ed-239">除了允許追蹤資料和顯示的 JSON 物件，協助 Web 程式開發人員可以也有助於偵錯頁面中的錯誤。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-239">In addition to allowing trace data and JSON objects to be displayed, Web Development helper can also aid in debugging errors in a page.</span></span> <span data-ttu-id="bb4ed-240">如果遇到錯誤時，系統會提示您繼續到下一行程式碼，或偵錯指令碼 （請參閱圖 6）。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-240">If an error is encountered, you will be prompted to continue to the next line of code or debug the script (see Figure 6).</span></span> <span data-ttu-id="bb4ed-241">指令碼錯誤對話方塊視窗會顯示完整的呼叫堆疊以及行號，因此您可以輕鬆地識別問題所在位置，在指令碼內。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-241">The Script Error dialog window shows the complete call stack as well as line numbers so you can easily identify where issues are within a script.</span></span>


<span data-ttu-id="bb4ed-242">[![您可以使用物件的偵測器視窗來檢視 JSON 物件。](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-242">[![Using the Object Inspector window to view a JSON object.](understanding-asp-net-ajax-debugging-capabilities/_static/image14.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image13.png)</span></span>

<span data-ttu-id="bb4ed-243">**圖 5**： 使用物件的偵測器視窗來檢視 JSON 物件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-243">**Figure 5**: Using the Object Inspector window to view a JSON object.</span></span>  <span data-ttu-id="bb4ed-244">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-244">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image15.png))</span></span>


<span data-ttu-id="bb4ed-245">選取偵錯選項，可讓您直接在檢視變數值、 寫出 JSON 物件，再加上更多的 Web 開發協助專家的即時運算視窗中執行指令碼陳述式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-245">Selecting the debug option allows you to execute script statements directly in Web Development Helper's immediate window to view the value of variables, write out JSON objects, plus more.</span></span> <span data-ttu-id="bb4ed-246">如果相同觸發錯誤的動作再次執行，而且在電腦上使用 Visual Studio 2008，系統會提示您啟動偵錯工作階段，讓您可以逐步執行逐行程式碼在上一節中所述。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-246">If the same action that triggered the error is performed again and Visual Studio 2008 is available on the machine, you will be prompted to start a debug session so that you can step through the code line by line as discussed in the previous section.</span></span>


<span data-ttu-id="bb4ed-247">[![Web 開發協助專家的指令碼錯誤對話方塊](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-247">[![Web Development Helper's Script Error Dialog](understanding-asp-net-ajax-debugging-capabilities/_static/image17.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image16.png)</span></span>

<span data-ttu-id="bb4ed-248">**圖 6**: Web 開發協助專家的指令碼錯誤對話方塊 ([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-248">**Figure 6**: Web Development Helper's Script Error Dialog  ([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image18.png))</span></span>


<span data-ttu-id="bb4ed-249">*檢查要求和回應訊息*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-249">*Inspecting Request and Response Messages*</span></span>

<span data-ttu-id="bb4ed-250">偵錯 ASP.NET AJAX 網頁時通常會很有用，查看頁面和伺服器之間傳送的要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-250">While debugging ASP.NET AJAX pages it is often useful to see request and response messages sent between a page and server.</span></span> <span data-ttu-id="bb4ed-251">檢視訊息內的內容，可讓您查看是否訊息的大小以及傳遞適當的資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-251">Viewing the content within messages allows you to see if the proper data is being passed as well as the size of the messages.</span></span> <span data-ttu-id="bb4ed-252">Web 開發協助程式提供了絕佳 HTTP 訊息記錄器功能，能輕鬆檢視資料，做為未經處理文字或更容易閱讀的格式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-252">Web Development Helper provides an excellent HTTP message logger feature that makes it easy to view data as raw text or in a more readable format.</span></span>

<span data-ttu-id="bb4ed-253">若要檢視 ASP.NET AJAX 要求和回應訊息，您必須以從 Web 開發協助程式功能表中選取 HTTP 啟用 HTTP 記錄，啟用 HTTP 記錄器。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-253">To view ASP.NET AJAX request and response messages, the HTTP logger must be enabled by selecting HTTP Enable HTTP Logging from the Web Development Helper menu.</span></span> <span data-ttu-id="bb4ed-254">啟用之後，就可以檢視從目前的頁面傳送所有訊息可以透過選取 HTTP 顯示 HTTP 記錄檔中的 HTTP 記錄檔檢視器中。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-254">Once enabled, all messages sent from the current page can be viewed in the HTTP log viewer which can be accessed by selecting HTTP Show HTTP Logs.</span></span>

<span data-ttu-id="bb4ed-255">雖然檢視每個要求/回應訊息中傳送的原始文字是的確很實用 （及 Web 程式開發的協助程式中的選項），通常很輕鬆地檢視多圖形格式的訊息資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-255">Although viewing the raw text sent in each request/response message is certainly useful (and an option in Web Development Helper), it is often easier to view message data in a more graphical format.</span></span> <span data-ttu-id="bb4ed-256">一旦已啟用 HTTP 記錄，而且已將訊息記錄，訊息資料可以檢視在 HTTP 記錄檔檢視器中的訊息上按兩下。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-256">Once HTTP logging has been enabled and messages have been logged, message data can be viewed by double-clicking on the message in the HTTP log viewer.</span></span> <span data-ttu-id="bb4ed-257">如此一來，可讓您檢視所有訊息，以及實際的訊息相關聯的標頭內容。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-257">Doing this allows you to view all headers associated with a message as well as the actual message content.</span></span> <span data-ttu-id="bb4ed-258">圖 7 顯示要求訊息和回應訊息的 HTTP 記錄檔檢視器視窗中檢視的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-258">Figure 7 shows an example of a request message and response message viewed in the HTTP Log Viewer window.</span></span>


<span data-ttu-id="bb4ed-259">[![您可以使用 HTTP 記錄檔檢視器來檢視要求和回應訊息資料。](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-259">[![Using the HTTP Log Viewer to view request and response message data.](understanding-asp-net-ajax-debugging-capabilities/_static/image20.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image19.png)</span></span>

<span data-ttu-id="bb4ed-260">**圖 7**： 使用 HTTP 記錄檔檢視器檢視要求和回應訊息資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-260">**Figure 7**: Using the HTTP Log Viewer to view request and response message data.</span></span>  <span data-ttu-id="bb4ed-261">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-261">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image21.png))</span></span>


<span data-ttu-id="bb4ed-262">HTTP 記錄檔檢視器會自動剖析 JSON 物件，並顯示它們使用快速且容易檢視物件的屬性資料的樹狀檢視。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-262">The HTTP Log Viewer automatically parses JSON objects and displays them using a tree view making it quick and easy to view the object's property data.</span></span> <span data-ttu-id="bb4ed-263">UpdatePanel 用於 ASP.NET AJAX 頁面中，當檢視器會中斷出訊息的個別部分的每個部分圖 8 所示。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-263">When an UpdatePanel is being used in an ASP.NET AJAX page, the viewer breaks out each portion of the message into individual parts as shown in Figure 8.</span></span> <span data-ttu-id="bb4ed-264">這是很棒的功能，可讓您更能更輕鬆地查看並了解什麼是訊息相較於檢視未經處理的訊息資料中。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-264">This is a great feature that makes it much easier to see and understand what is in the message as compared to viewing the raw message data.</span></span>


<span data-ttu-id="bb4ed-265">[![使用 HTTP 記錄檔檢視器檢視 UpdatePanel 回應訊息。](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-265">[![An UpdatePanel response message viewed using the HTTP Log Viewer.](understanding-asp-net-ajax-debugging-capabilities/_static/image23.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image22.png)</span></span>

<span data-ttu-id="bb4ed-266">**圖 8**： 使用 HTTP 記錄檔檢視器檢視 UpdatePanel 回應訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-266">**Figure 8**: An UpdatePanel response message viewed using the HTTP Log Viewer.</span></span>  <span data-ttu-id="bb4ed-267">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-267">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image24.png))</span></span>


<span data-ttu-id="bb4ed-268">有數個其他工具，可用來檢視 Web 開發協助程式除了要求和回應訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-268">There are several other tools that can be used to view request and response messages in addition to Web Development Helper.</span></span> <span data-ttu-id="bb4ed-269">另一個很好的選項是可以免費在 Fiddler [ http://www.fiddlertool.com ](http://www.fiddlertool.com)。Fiddler 不討論以下，雖然它時也是很好的選擇您要徹底地檢查訊息標頭和資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-269">Another good option is Fiddler which is available for free at [http://www.fiddlertool.com](http://www.fiddlertool.com). Although Fiddler will not be discussed here, it is also a good option when you need to thoroughly inspect message headers and data.</span></span>

## <a name="debugging-with-firefox-and-firebug"></a><span data-ttu-id="bb4ed-270">使用 Firefox 和 firebug 這類偵錯</span><span class="sxs-lookup"><span data-stu-id="bb4ed-270">Debugging with Firefox and Firebug</span></span>

<span data-ttu-id="bb4ed-271">Internet Explorer 仍是最普遍使用的瀏覽器，而其他瀏覽器，例如 Firefox 變得非常受歡迎，並使用越來越多。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-271">While Internet Explorer is still the most widely used browser, other browsers such as Firefox have become quite popular and are being used more and more.</span></span> <span data-ttu-id="bb4ed-272">如此一來，您會想要檢視及偵錯您的 ASP.NET AJAX 網頁中 Firefox，以及 Internet Explorer 以確保您的應用程式正常運作。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-272">As a result, you'll want to view and debug your ASP.NET AJAX pages in Firefox as well as Internet Explorer to ensure that your applications work properly.</span></span> <span data-ttu-id="bb4ed-273">雖然 Firefox 無法直接在 Visual Studio 2008 有相同的偵錯，但其呼叫可用來偵錯網頁的 firebug 這類延伸模組。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-273">Although Firefox can't tie directly into Visual Studio 2008 for debugging, it has an extension called Firebug that can be used to debug pages.</span></span> <span data-ttu-id="bb4ed-274">Firebug 這類可以免費下載，請前往[ http://www.getfirebug.com ](http://www.getfirebug.com)。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-274">Firebug can be downloaded for free by going to [http://www.getfirebug.com](http://www.getfirebug.com).</span></span>

<span data-ttu-id="bb4ed-275">Firebug 這類提供功能完整的偵錯環境，可用來逐步執行逐行程式碼存取網頁內使用的所有指令碼、 檢視 DOM 結構，顯示在網頁中的 CSS 樣式，甚至是追蹤事件發生的。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-275">Firebug provides a full-featured debugging environment that can be used to step through code line by line, access all scripts used within a page, view DOM structures, display CSS styles and even track events that occur in a page.</span></span> <span data-ttu-id="bb4ed-276">安裝之後，可以存取 firebug 這類工具 firebug 這類開啟 Firebug 從 Firefox 功能表中選取。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-276">Once installed, Firebug can be accessed by selecting Tools Firebug Open Firebug from the Firefox menu.</span></span> <span data-ttu-id="bb4ed-277">Web 開發的協助程式，例如 firebug 這類都使用直接在瀏覽器中，不過它也可用來當作獨立的應用程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-277">Like Web Development Helper, Firebug is used directly in the browser although it can also be used as a stand-alone application.</span></span>

<span data-ttu-id="bb4ed-278">Firebug 這類開始執行之後，中斷點可以設定任何一行的 JavaScript 檔案，是否在指令碼或不內嵌於頁面。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-278">Once Firebug is running, breakpoints can be set on any line of a JavaScript file whether the script is embedded in a page or not.</span></span> <span data-ttu-id="bb4ed-279">若要設定中斷點，請先載入適當的頁面，您想要在 Firefox 中偵錯。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-279">To set a breakpoint, first load the appropriate page you'd like to debug in Firefox.</span></span> <span data-ttu-id="bb4ed-280">一旦載入的頁面，選取要從下拉式清單中 firebug 這類的指令碼進行偵錯的指令碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-280">Once the page is loaded, select the script to debug from Firebug's Scripts drop-down list.</span></span> <span data-ttu-id="bb4ed-281">將顯示所有頁面所用的指令碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-281">All scripts used by the page will be shown.</span></span> <span data-ttu-id="bb4ed-282">依序按一下 firebug 這類的灰色的紙匣 區域的行中斷點應該在哪裡必須像您一樣在 Visual Studio 2008 中設定中斷點。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-282">A breakpoint is set by clicking in Firebug's grey tray area on the line where the breakpoint should go must like you would do in Visual Studio 2008.</span></span>

<span data-ttu-id="bb4ed-283">一旦 firebug 這類中設定中斷點，您可以執行執行指令碼需要例如按一下按鈕，或重新整理瀏覽器 onLoad 事件觸發程序進行偵錯所需的動作。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-283">Once a breakpoint has been set in Firebug you can perform the action required to execute the script that needs to be debugged such as clicking a button or refreshing the browser to trigger the onLoad event.</span></span> <span data-ttu-id="bb4ed-284">在包含中斷點的行上，將會自動停止執行。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-284">Execution will automatically stop on the line containing the breakpoint.</span></span> <span data-ttu-id="bb4ed-285">圖 9 中 Firebug 顯示已經觸發中斷點的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-285">Figure 9 shows an example of a breakpoint that has been triggered in Firebug.</span></span>


<span data-ttu-id="bb4ed-286">[![正在處理中 firebug 這類的中斷點。](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-286">[![Handling breakpoints in Firebug.](understanding-asp-net-ajax-debugging-capabilities/_static/image26.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image25.png)</span></span>

<span data-ttu-id="bb4ed-287">**圖 9**： 處理 firebug 這類的中斷點。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-287">**Figure 9**: Handling breakpoints in Firebug.</span></span>  <span data-ttu-id="bb4ed-288">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-288">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image27.png))</span></span>


<span data-ttu-id="bb4ed-289">一旦叫用中斷點時您可以逐步執行、 不進入或跳離程式碼使用箭號按鈕。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-289">Once a breakpoint is hit you can step into, step over or step out of code using the arrow buttons.</span></span> <span data-ttu-id="bb4ed-290">當您逐步執行程式碼，指令碼變數會顯示在右邊的 偵錯工具可讓您查看值和向下鑽研功能的物件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-290">As you step through code, script variables are displayed in the right-hand portion of the debugger allowing you to see values and drill-down into objects.</span></span> <span data-ttu-id="bb4ed-291">Firebug 這類也包括呼叫堆疊下拉式清單來檢視導致目前的行正在進行偵錯的指令碼的執行步驟。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-291">Firebug also includes a Call Stack drop-down list to view the script's execution steps that led up to the current line being debugged.</span></span>

<span data-ttu-id="bb4ed-292">Firebug 這類也包含可用來測試不同的指令碼陳述式、 評估變數並檢視追蹤輸出的主控台視窗。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-292">Firebug also includes a console window that can be used to test different script statements, evaluate variables and view trace output.</span></span> <span data-ttu-id="bb4ed-293">Firebug 這類視窗頂端的 [主控台] 索引標籤，即可存取。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-293">It is accessed by clicking on the Console tab at the top of the Firebug window.</span></span> <span data-ttu-id="bb4ed-294">[偵錯] 頁面上可以也 「 檢查 」 依序按一下 [檢查] 索引標籤上看到的 DOM 結構和內容。為您的結束滑鼠停留不同頁面的適當部分所示的偵測器視窗的 DOM 項目就會反白以便輕鬆地查看項目使用中頁面的位置。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-294">The page being debugged can also be "inspected" to see its DOM structure and contents by clicking on the Inspect tab. As you mouse over the different DOM elements shown in the inspector window the appropriate portion of the page will be highlighted making it easy to see where the element is used in the page.</span></span> <span data-ttu-id="bb4ed-295">「 即時 」 試驗套用不同的寬度、 樣式等等的項目可以變更指定的項目相關聯的屬性值。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-295">Attribute values associated with a given element can be changed "live" to experiment with applying different widths, styles, etc. to an element.</span></span> <span data-ttu-id="bb4ed-296">這是需要不斷切換來源的程式碼編輯器和 Firefox 瀏覽器檢視簡單的變更會影響頁面的實用功能。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-296">This is a nice feature that saves you from having to constantly switch between the source code editor and the Firefox browser to view how simple changes affect a page.</span></span>

<span data-ttu-id="bb4ed-297">圖 10 說明使用 DOM 偵測器來尋找名為 txtCountry 網頁中的文字方塊中的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-297">Figure 10 shows an example of using the DOM inspector to locate a textbox named txtCountry in the page.</span></span> <span data-ttu-id="bb4ed-298">Firebug 這類偵測器也可用來檢視網頁，以及發生例如追蹤滑鼠移動、 按一下按鈕，加上更多的事件中使用的 CSS 樣式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-298">The Firebug inspector can also be used to view CSS styles used in a page as well as events that occur such as tracking mouse movements, button clicks, plus more.</span></span>


<span data-ttu-id="bb4ed-299">[![使用 firebug 這類的 DOM 偵測器。](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-299">[![Using Firebug's DOM inspector.](understanding-asp-net-ajax-debugging-capabilities/_static/image29.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image28.png)</span></span>

<span data-ttu-id="bb4ed-300">**圖 10**： 使用 Firebug DOM 偵測器。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-300">**Figure 10**: Using Firebug's DOM inspector.</span></span>  <span data-ttu-id="bb4ed-301">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-301">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image30.png))</span></span>


<span data-ttu-id="bb4ed-302">Firebug 這類提供輕量方式快速偵錯直接中 Firefox，以及最佳工具來檢查不同的項目頁面內的頁面。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-302">Firebug provides a light-weight way to quickly debug a page directly in Firefox as well as an excellent tool for inspecting different elements within the page.</span></span>

## <a name="debugging-support-in-aspnet-ajax"></a><span data-ttu-id="bb4ed-303">在 ASP.NET AJAX 中的偵錯支援</span><span class="sxs-lookup"><span data-stu-id="bb4ed-303">Debugging Support in ASP.NET AJAX</span></span>

<span data-ttu-id="bb4ed-304">ASP.NET AJAX 程式庫包含許多不同的類別可以用來簡化新增至網頁的 AJAX 功能的程序。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-304">The ASP.NET AJAX library includes many different classes that can be used to simplify the process of adding AJAX capabilities into a Webpage.</span></span> <span data-ttu-id="bb4ed-305">您可以使用這些類別，尋找頁面內的項目以及操作它們、 加入新的控制項、 呼叫 Web 服務和即使處理事件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-305">You can use these classes to locate elements within a page and manipulate them, add new controls, call Web Services and even handle events.</span></span> <span data-ttu-id="bb4ed-306">ASP.NET AJAX 程式庫也包含類別，可以用來增強偵錯網頁的程序。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-306">The ASP.NET AJAX library also contains classes that can be used to enhance the process of debugging pages.</span></span> <span data-ttu-id="bb4ed-307">本節中您要將介紹 Sys.Debug 類別，並查看如何在應用程式中使用。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-307">In this section you'll be introduced to the Sys.Debug class and see how it can be used in applications.</span></span>

<span data-ttu-id="bb4ed-308">*使用 Sys.Debug 類別*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-308">*Using the Sys.Debug class*</span></span>

<span data-ttu-id="bb4ed-309">Sys.Debug 類別 （位於 Sys 命名空間中的 JavaScript 類別） 可以用來執行數個不同的功能，包括寫入追蹤輸出中，執行程式碼的判斷提示和強制執行失敗，以便進行偵錯的程式碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-309">The Sys.Debug class (a JavaScript class located in the Sys namespace) can be used to perform several different functions including writing trace output, performing code assertions and forcing code to fail so that it can be debugged.</span></span> <span data-ttu-id="bb4ed-310">它是廣泛使用在 ASP.NET AJAX 程式庫的偵錯檔 （位於 C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 預設安裝） 來執行條件式的測試 （稱為 「 判斷提示），請務必函式，物件包含預期的資料，以及寫入追蹤陳述式正確傳遞參數。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-310">It is used extensively in the ASP.NET AJAX library's debug files (installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default) to perform conditional tests (called assertions) that ensure parameters are passed properly to functions, that objects contain the expected data and to write trace statements.</span></span>

<span data-ttu-id="bb4ed-311">Sys.Debug 類別會公開數個不同的函式可用來處理追蹤、 程式碼的判斷提示或失敗，如表 1 中所示。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-311">The Sys.Debug class exposes several different functions that can be used to handle tracing, code assertions or failures as shown in Table 1.</span></span>

<span data-ttu-id="bb4ed-312">**表 1。Sys.Debug 類別函式。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-312">**Table 1. Sys.Debug class functions.**</span></span>

| <span data-ttu-id="bb4ed-313">**函式名稱**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-313">**Function Name**</span></span> | <span data-ttu-id="bb4ed-314">**描述**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="bb4ed-315">assert(condition, message, displayCaller)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-315">assert(condition, message, displayCaller)</span></span> | <span data-ttu-id="bb4ed-316">判斷提示的條件參數為 true。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-316">Asserts that the condition parameter is true.</span></span> <span data-ttu-id="bb4ed-317">如果要測試的條件為 false，訊息方塊會用於顯示訊息的參數值。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-317">If the condition being tested is false, a message box will be used to display the message parameter value.</span></span> <span data-ttu-id="bb4ed-318">如果 displayCaller 參數為 true，則方法也會顯示呼叫者的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-318">If the displayCaller parameter is true, the method also displays information about the caller.</span></span> |
| <span data-ttu-id="bb4ed-319">clearTrace()</span><span class="sxs-lookup"><span data-stu-id="bb4ed-319">clearTrace()</span></span> | <span data-ttu-id="bb4ed-320">清除追蹤作業的陳述式輸出。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-320">Erases statements output from tracing operations.</span></span> |
| <span data-ttu-id="bb4ed-321">fail(message)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-321">fail(message)</span></span> | <span data-ttu-id="bb4ed-322">會造成程式停止執行並偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-322">Causes the program to stop execution and break into the debugger.</span></span> <span data-ttu-id="bb4ed-323">訊息參數可以用來提供失敗的原因。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-323">The message parameter can be used to provide a reason for the failure.</span></span> |
| <span data-ttu-id="bb4ed-324">trace(message)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-324">trace(message)</span></span> | <span data-ttu-id="bb4ed-325">寫入追蹤輸出訊息參數。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-325">Writes the message parameter to the trace output.</span></span> |
| <span data-ttu-id="bb4ed-326">traceDump （物件、 名稱）</span><span class="sxs-lookup"><span data-stu-id="bb4ed-326">traceDump(object, name)</span></span> | <span data-ttu-id="bb4ed-327">會輸出物件的資料，可讀取的格式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-327">Outputs an object's data in a readable format.</span></span> <span data-ttu-id="bb4ed-328">Name 參數可以用來提供用於追蹤傾印的標籤。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-328">The name parameter can be used to provide a label for the trace dump.</span></span> <span data-ttu-id="bb4ed-329">根據預設，物件傾印內之任何子物件將寫出。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-329">Any sub-objects within the object being dumped will be written out by default.</span></span> |

<span data-ttu-id="bb4ed-330">用戶端追蹤可在 ASP.NET 中可用的追蹤功能很多相同的方式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-330">Client-side tracing can be used in much the same way as the tracing functionality available in ASP.NET.</span></span> <span data-ttu-id="bb4ed-331">它可讓不同的訊息容易看到而不會中斷應用程式的流程。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-331">It allows different messages to easily be seen without interrupting the flow of the application.</span></span> <span data-ttu-id="bb4ed-332">列出 5 顯示使用 Sys.Debug.trace 函式，將寫入追蹤記錄檔的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-332">Listing 5 shows an example of using the Sys.Debug.trace function to write to the trace log.</span></span> <span data-ttu-id="bb4ed-333">此函數只接受應該寫出做為參數的訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-333">This function simply takes the message that should be written out as a parameter.</span></span>

<span data-ttu-id="bb4ed-334">**列出 5。使用 Sys.Debug.trace 函式。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-334">**Listing 5. Using the Sys.Debug.trace function.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample6.js)]

<span data-ttu-id="bb4ed-335">如果您執行中的程式碼列表 5 不會看到頁面中的任何追蹤輸出。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-335">If you execute the code shown in Listing 5 you won't see any trace output in the page.</span></span> <span data-ttu-id="bb4ed-336">若要查看它的唯一方式是使用可用在 Visual Studio.NET、 Web 開發 Helper 或 firebug 這類的主控台視窗。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-336">The only way to see it is to use a console window available in Visual Studio .NET, Web Development Helper or Firebug.</span></span> <span data-ttu-id="bb4ed-337">如果您想查看網頁中的追蹤輸出，將需要加入文字區域標記，並給定識別碼為 TraceConsole 如下所示：</span><span class="sxs-lookup"><span data-stu-id="bb4ed-337">If you do want to see the trace output in the page then you'll need to add a TextArea tag and give it an id of TraceConsole as shown next:</span></span>


[!code-html[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample7.html)]

<span data-ttu-id="bb4ed-338">網頁中的任何 Sys.Debug.trace 陳述式將會寫入 TraceConsole 文字區域。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-338">Any Sys.Debug.trace statements in the page will be written to the TraceConsole TextArea.</span></span>

<span data-ttu-id="bb4ed-339">在您要查看 JSON 物件內所包含的資料的情況下，您可以使用 Sys.Debug 類別的 traceDump 函式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-339">In cases where you want to see the data contained within a JSON object you can use the Sys.Debug class's traceDump function.</span></span> <span data-ttu-id="bb4ed-340">此函數會採用兩個參數，包括應該可傾印以追蹤主控台的物件和可以用來識別追蹤輸出中的物件名稱。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-340">This function takes two parameters including the object that should be dumped to the trace console and a name that can be used to identify the object in the trace output.</span></span> <span data-ttu-id="bb4ed-341">列出 6 顯示使用 traceDump 函式的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-341">Listing 6 shows an example of using the traceDump function.</span></span>

<span data-ttu-id="bb4ed-342">**列出 6。使用 Sys.Debug.traceDump 函式。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-342">**Listing 6. Using the Sys.Debug.traceDump function.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample8.js)]

<span data-ttu-id="bb4ed-343">圖 11 顯示呼叫 Sys.Debug.traceDump 函式的輸出。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-343">Figure 11 shows the output from calling the Sys.Debug.traceDump function.</span></span> <span data-ttu-id="bb4ed-344">請注意，除了寫出人員物件的資料，它也會撰寫出位址子物件的資料。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-344">Notice that in addition to writing out the Person object's data, it also writes out the Address sub-object's data.</span></span>

<span data-ttu-id="bb4ed-345">追蹤，除了 Sys.Debug 類別也可以用來執行程式碼的判斷提示。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-345">In addition to tracing, the Sys.Debug class can also be used to perform code assertions.</span></span> <span data-ttu-id="bb4ed-346">判斷提示用來測試應用程式執行時，符合特定條件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-346">Assertions are used to test that specific conditions are met while an application is running.</span></span> <span data-ttu-id="bb4ed-347">ASP.NET AJAX 程式庫指令碼的偵錯版本包含數個 assert 陳述式來測試各種不同的條件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-347">The debug version of the ASP.NET AJAX library scripts contain several assert statements to test a variety of conditions.</span></span>

<span data-ttu-id="bb4ed-348">列出 7 顯示使用 Sys.Debug.assert 函式來測試條件的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-348">Listing 7 shows an example of using the Sys.Debug.assert function to test a condition.</span></span> <span data-ttu-id="bb4ed-349">程式碼會測試更新 Person 物件之前，位址物件為 null。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-349">The code tests whether or not the Address object is null before updating a Person object.</span></span>


<span data-ttu-id="bb4ed-350">[![Sys.Debug.traceDump 函式的輸出。](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-350">[![Output of the Sys.Debug.traceDump function.](understanding-asp-net-ajax-debugging-capabilities/_static/image32.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image31.png)</span></span>

<span data-ttu-id="bb4ed-351">**圖 11**: Sys.Debug.traceDump 函式的輸出。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-351">**Figure 11**: Output of the Sys.Debug.traceDump function.</span></span>  <span data-ttu-id="bb4ed-352">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-352">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image33.png))</span></span>


<span data-ttu-id="bb4ed-353">**列出 7。使用 debug.assert 函式。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-353">**Listing 7. Using the debug.assert function.**</span></span>


[!code-javascript[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample9.js)]

<span data-ttu-id="bb4ed-354">會傳遞三個參數，包括要評估，判斷提示會傳回 false，而且應顯示呼叫者的相關資訊時要顯示訊息的條件。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-354">Three parameters are passed including the condition to evaluate, the message to display if the assertion returns false and whether or not information about the caller should be displayed.</span></span> <span data-ttu-id="bb4ed-355">在判斷提示失敗的地方的情況下，訊息將顯示呼叫端資訊以及若第三個參數，則為 true。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-355">In cases where an assertion fails, the message will be displayed as well as caller information if the third parameter was true.</span></span> <span data-ttu-id="bb4ed-356">圖 12 顯示列出 7 所示的判斷提示失敗時才會顯示 [失敗] 對話方塊的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-356">Figure 12 shows an example of the failure dialog that appears if the assertion shown in Listing 7 fails.</span></span>

<span data-ttu-id="bb4ed-357">最後的函式，以涵蓋是 Sys.Debug.fail。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-357">The final function to cover is Sys.Debug.fail.</span></span> <span data-ttu-id="bb4ed-358">當您想要強制執行的程式碼無法在指令碼中的特定資料行上您可以加入 Sys.Debug.fail 呼叫，而不是 JavaScript 應用程式中一般使用的偵錯工具陳述式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-358">When you want to force code to fail on a particular line in a script you can add a Sys.Debug.fail call rather than the debugger statement typically used in JavaScript applications.</span></span> <span data-ttu-id="bb4ed-359">Sys.Debug.fail 函式會接受單一字串參數，表示失敗的原因，如下所示：</span><span class="sxs-lookup"><span data-stu-id="bb4ed-359">The Sys.Debug.fail function accepts a single string parameter that represents the reason for the failure as shown next:</span></span>


[!code-css[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample10.css)]


<span data-ttu-id="bb4ed-360">[![Sys.Debug.assert 失敗訊息。](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-360">[![A Sys.Debug.assert failure message.](understanding-asp-net-ajax-debugging-capabilities/_static/image35.png)](understanding-asp-net-ajax-debugging-capabilities/_static/image34.png)</span></span>

<span data-ttu-id="bb4ed-361">**圖 12**: Sys.Debug.assert 失敗訊息。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-361">**Figure 12**: A Sys.Debug.assert failure message.</span></span>  <span data-ttu-id="bb4ed-362">([按一下以檢視完整大小的影像](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="bb4ed-362">([Click to view full-size image](understanding-asp-net-ajax-debugging-capabilities/_static/image36.png))</span></span>


<span data-ttu-id="bb4ed-363">當遇到 Sys.Debug.fail 陳述式時執行指令碼時，訊息參數的值將顯示在主控台中的偵錯應用程式，例如 Visual Studio 2008，將提示您進行偵錯應用程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-363">When a Sys.Debug.fail statement is encountered while a script is executing, the value of the message parameter will be displayed in the console of a debug application such as Visual Studio 2008 and you'll be prompted to debug the application.</span></span> <span data-ttu-id="bb4ed-364">您無法在內嵌指令碼上設定中斷點，以使用 Visual Studio 2008，但想要如此，您可以檢查變數值，在特定行停止的程式碼時，這會很有用的一種情況。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-364">One case where this can be quite useful is when you can't set a breakpoint with Visual Studio 2008 on an inline script but would like the code to stop on particular line so you can inspect the value of variables.</span></span>

<span data-ttu-id="bb4ed-365">*了解 ScriptManager 控制項 ScriptMode 屬性*</span><span class="sxs-lookup"><span data-stu-id="bb4ed-365">*Understanding the ScriptManager Control's ScriptMode Property*</span></span>

<span data-ttu-id="bb4ed-366">ASP.NET AJAX 程式庫包含偵錯和發行指令碼版本，預設會安裝在 C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 的。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-366">The ASP.NET AJAX library includes debug and release script versions that are installed at C:\Program Files\Microsoft ASP.NET\ASP.NET 2.0 AJAX Extensions\v1.0.61025\MicrosoftAjaxLibrary\System.Web.Extensions\1.0.61025.0 by default.</span></span> <span data-ttu-id="bb4ed-367">偵錯指令碼格式工整且、 容易閱讀也更有數個 Sys.Debug.assert 呼叫分散至它們同時發行指令碼則會移除空白字元而且謹慎使用 Sys.Debug 類別，其整體大小降到最低。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-367">The debug scripts are nicely formatted, easy to read and have several Sys.Debug.assert calls scattered throughout them while the release scripts have whitespace stripped out and use the Sys.Debug class sparingly to minimize their overall size.</span></span>

<span data-ttu-id="bb4ed-368">ScriptManager 控制項加入至 ASP.NET AJAX 頁面讀取 compilation 項目來判斷哪些版本的程式庫指令碼載入 web.config 中的偵錯屬性。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-368">The ScriptManager control added to ASP.NET AJAX pages reads the compilation element's debug attribute in web.config to determine which versions of library scripts to load.</span></span> <span data-ttu-id="bb4ed-369">不過，您可以控制偵錯或發行指令碼會載入 （程式庫指令碼或您自己的自訂指令碼） 藉由變更 ScriptMode 屬性。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-369">However, you can control if debug or release scripts are loaded (library scripts or your own custom scripts) by changing the ScriptMode property.</span></span> <span data-ttu-id="bb4ed-370">ScriptMode 接受 ScriptMode 列舉的成員包括自動、 偵錯、 發行和繼承。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-370">ScriptMode accepts a ScriptMode enumeration whose members include Auto, Debug, Release and Inherit.</span></span>

<span data-ttu-id="bb4ed-371">ScriptMode 預設為自動，這表示 ScriptManager 會檢查在 web.config 中的偵錯屬性的值。當為 false 時偵錯 ScriptManager 將會載入 ASP.NET AJAX 程式庫指令碼的發行版本。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-371">ScriptMode defaults to a value of Auto which means that the ScriptManager will check the debug attribute in web.config. When debug is false the ScriptManager will load the release version of ASP.NET AJAX library scripts.</span></span> <span data-ttu-id="bb4ed-372">如果偵錯的則為 true，就會載入指令碼的偵錯版本。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-372">When debug is true the debug version of the scripts will be loaded.</span></span> <span data-ttu-id="bb4ed-373">釋出或偵錯 ScriptMode 屬性變更，將會強制載入適當的指令碼，不論在 web.config 中的偵錯屬性有了什麼價值 ScriptManager。列出 8 顯示使用 ScriptManager 控制項從 ASP.NET AJAX 程式庫載入偵錯指令碼的範例。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-373">Changing the ScriptMode property to Release or Debug will force the ScriptManager to load the appropriate scripts regardless of what value the debug attribute has in web.config. Listing 8 shows an example of using the ScriptManager control to load debug scripts from the ASP.NET AJAX library.</span></span>

<span data-ttu-id="bb4ed-374">**列出 8。載入偵錯指令碼使用 ScriptManager**。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-374">**Listing 8. Loading debug scripts using the ScriptManager**.</span></span>


[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample11.aspx)]

<span data-ttu-id="bb4ed-375">您也可以列出 9 中所示，使用在 ScriptManager 的指令碼屬性一起使用，指令碼參考元件，以載入您自己的自訂指令碼的不同版本 （偵錯或發行）。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-375">You can also load different versions (debug or release) of your own custom scripts by using the ScriptManager's Scripts property along with the ScriptReference component as shown in Listing 9.</span></span>

<span data-ttu-id="bb4ed-376">**列出 9。載入使用 ScriptManager 的自訂指令碼。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-376">**Listing 9. Loading custom scripts using the ScriptManager.**</span></span>


[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample12.aspx)]

> [!NOTE]
> <span data-ttu-id="bb4ed-377">如果您正在載入使用指令碼參考元件的自訂指令碼必須在指令碼已完成載入時，在指令碼底端加入下列程式碼時通知 ScriptManager:</span><span class="sxs-lookup"><span data-stu-id="bb4ed-377">If you're loading custom scripts using the ScriptReference component you must notify the ScriptManager when the script has finished loading by adding the following code at the bottom of the script:</span></span>


[!code-csharp[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample13.cs)]

<span data-ttu-id="bb4ed-378">列出 9 所示的程式碼會告知尋找人員指令碼的偵錯版本，因此它會自動尋找而不是 Person.js Person.debug.js ScriptManager。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-378">The code shown in Listing 9 tells the ScriptManager to look for a debug version of the Person script so it will automatically look for Person.debug.js instead of Person.js.</span></span> <span data-ttu-id="bb4ed-379">Person.debug.js 檔案找不到時就會引發錯誤。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-379">If the Person.debug.js file is not found an error will be raised.</span></span>

<span data-ttu-id="bb4ed-380">在您想要偵錯或發行版本的自訂指令碼載入依據 ScriptManager 控制項上設定的 ScriptMode 屬性的值位置的情況下，您可以將指令碼參考控制項的 ScriptMode 屬性繼承。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-380">In cases where you want a debug or release version of a custom script to be loaded based upon the value of the ScriptMode property set on the ScriptManager control, you can set the ScriptReference control's ScriptMode property to Inherit.</span></span> <span data-ttu-id="bb4ed-381">這會導致要載入的自訂指令碼的適當版本依據 ScriptManager ScriptMode 屬性列出 10 所示。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-381">This will cause the proper version of the custom script to be loaded based upon the ScriptManager's ScriptMode property as shown in Listing 10.</span></span> <span data-ttu-id="bb4ed-382">因為 ScriptManager 控制項的 ScriptMode 屬性設定為 偵錯，就會載入並使用於頁面 Person.debug.js 指令碼。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-382">Because the ScriptMode property of the ScriptManager control is set to Debug, the Person.debug.js script will be loaded and used in the page.</span></span>

<span data-ttu-id="bb4ed-383">**列出 10。繼承的自訂指令碼 ScriptManager ScriptMode。**</span><span class="sxs-lookup"><span data-stu-id="bb4ed-383">**Listing 10. Inheriting the ScriptMode from the ScriptManager for custom scripts.**</span></span>


[!code-aspx[Main](understanding-asp-net-ajax-debugging-capabilities/samples/sample14.aspx)]

<span data-ttu-id="bb4ed-384">適當地使用 ScriptMode 屬性可以更輕鬆地偵錯應用程式，並簡化整體程序。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-384">By using the ScriptMode property appropriately you can more easily debug applications and simplify the overall process.</span></span> <span data-ttu-id="bb4ed-385">ASP.NET AJAX 程式庫的發行指令碼是以逐步執行及讀取程式碼格式設定已移除偵錯指令碼的格式特別以進行偵錯時相當困難。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-385">The ASP.NET AJAX library's release scripts are rather difficult to step through and read since code formatting has been removed while the debug scripts are formatted specifically for debugging purposes.</span></span>

## <a name="conclusion"></a><span data-ttu-id="bb4ed-386">結論</span><span class="sxs-lookup"><span data-stu-id="bb4ed-386">Conclusion</span></span>

<span data-ttu-id="bb4ed-387">Microsoft ASP.NET AJAX 技術，提供穩固的基礎建置，可強化終端使用者的整體體驗 ajax 能力的應用程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-387">Microsoft's ASP.NET AJAX technology provides a solid foundation for building AJAX-enabled applications that can enhance the end user's overall experience.</span></span> <span data-ttu-id="bb4ed-388">不過，做為任何的程式設計技術 bug 和其他應用程式問題，將會確實發生。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-388">However, as with any programming technology, bugs and other application issues will certainly arise.</span></span> <span data-ttu-id="bb4ed-389">深入了解不同的偵錯選項可用，可以節省許多時間與結果的更穩定的產品。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-389">Knowing about the different debugging options available can save a lot of time and result in a more stable product.</span></span>

<span data-ttu-id="bb4ed-390">在本文中您已學到幾個不同技術可偵錯 ASP.NET AJAX 網頁包括 Visual Studio 2008、 Web 開發協助程式與 firebug 這類的 Internet Explorer。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-390">In this article you've been introduced to several different techniques for debugging ASP.NET AJAX pages including Internet Explorer with Visual Studio 2008, Web Development Helper and Firebug.</span></span> <span data-ttu-id="bb4ed-391">這些工具可以簡化整個偵錯程序，因為您可以存取變數的資料、 逐步執行逐行程式碼，並檢視追蹤陳述式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-391">These tools can simplify the overall debugging process since you can access variable data, walk through code line by line and view trace statements.</span></span> <span data-ttu-id="bb4ed-392">除了所討論的不同偵錯工具，您也看到了如何使用 ASP.NET AJAX 程式庫的 Sys.Debug 類別，在應用程式及如何 ScriptManager 類別可以用來載入偵錯或發行指令碼版本。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-392">In addition to the different debugging tools discussed, you also saw how the ASP.NET AJAX library's Sys.Debug class can be used in an application and how the ScriptManager class can be used to load debug or release versions of scripts.</span></span>

## <a name="bio"></a><span data-ttu-id="bb4ed-393">簡歷</span><span class="sxs-lookup"><span data-stu-id="bb4ed-393">Bio</span></span>

<span data-ttu-id="bb4ed-394">Dan Wahlin （Microsoft 最有價值專家適用於 ASP.NET 和 XML Web Service） 是.NET 開發講師和架構顧問在介面技術訓練 ([www.interfacett.com)](http://www.interfacett.com)。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-394">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([www.interfacett.com)](http://www.interfacett.com).</span></span> <span data-ttu-id="bb4ed-395">Dan 所建構的 XML for ASP.NET 開發人員網站 ([www.XMLforASP.NET](http://www.XMLforASP.NET))，位於 INETA 喇叭局所免費提供，並在數個所做的心得。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-395">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="bb4ed-396">Dan 共同撰寫 Professional Windows DNA (Wrox)，ASP.NET： 秘訣、 教學課程與程式碼 (Sam)、 ASP.NET 1.1 測試人員方案、 Professional ASP.NET 2.0 AJAX (Wrox)、 ASP.NET 2.0 MVP 缺失，以及 ASP.NET 開發人員 (Sam) 撰寫的 XML。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-396">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="bb4ed-397">當他不撰寫程式碼、 文件或活頁簿時，Dan 喜歡的休閒活動撰寫和錄製音樂和播放高爾夫球和籃球與他的妻子小孩。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-397">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="bb4ed-398">Scott 是否已從 1997 年使用 Microsoft Web 技術，且 myKB.com 總統 ([www.myKB.com](http://www.myKB.com)) 擅長撰寫 ASP.NET 架構的重點 Knowledge Base 軟體解決方案的應用程式。</span><span class="sxs-lookup"><span data-stu-id="bb4ed-398">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="bb4ed-399">透過在電子郵件，即可以聯繫 Scott [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com)或在他的部落格[ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="bb4ed-399">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="bb4ed-400">上一步</span><span class="sxs-lookup"><span data-stu-id="bb4ed-400">Previous</span></span>](understanding-asp-net-ajax-web-services.md)
