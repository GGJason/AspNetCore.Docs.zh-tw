---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
title: 使用 SQL Server Compact 使用 Visual Studio 或 Visual Web Developer 將 ASP.NET Web 應用程式部署： 部署到生產環境-7 個 12 |Microsoft 文件
author: tdykstra
description: 這一系列的教學課程會示範如何將部署 （發行） 的 ASP.NET web 應用程式專案，其中包含 SQL Server Compact 資料庫使用視覺化 Stu...
ms.author: aspnetcontent
manager: wpickett
ms.date: 11/17/2011
ms.topic: article
ms.assetid: b83ab819-2b05-4776-b7b4-79ef78d457a5
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
msc.type: authoredcontent
ms.openlocfilehash: ab3b7ba332deddae7d04fc37c7aabc72bdb2d17e
ms.sourcegitcommit: 6784510cfb589308c3875ccb5113eb31031766b4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/08/2018
ms.locfileid: "30889679"
---
<a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-the-production-environment---7-of-12"></a><span data-ttu-id="76d5d-103">使用 SQL Server Compact 使用 Visual Studio 或 Visual Web Developer 將 ASP.NET Web 應用程式部署： 部署到生產環境-7 個 12</span><span class="sxs-lookup"><span data-stu-id="76d5d-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to the Production Environment - 7 of 12</span></span>
====================
<span data-ttu-id="76d5d-104">由[Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="76d5d-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="76d5d-105">下載入門專案</span><span class="sxs-lookup"><span data-stu-id="76d5d-105">Download Starter Project</span></span>](http://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="76d5d-106">這一系列的教學課程會示範如何將部署 （發行） 的 ASP.NET web 應用程式專案，其中包含使用 Visual Studio 2012 RC 或 Visual Studio Express 2012 RC for Web 的 SQL Server Compact 資料庫。</span><span class="sxs-lookup"><span data-stu-id="76d5d-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="76d5d-107">如果您安裝 Web 發行更新，您也可以使用 Visual Studio 2010。</span><span class="sxs-lookup"><span data-stu-id="76d5d-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="76d5d-108">數列的簡介，請參閱[系列的第一個教學課程](deployment-to-a-hosting-provider-introduction-1-of-12.md)。</span><span class="sxs-lookup"><span data-stu-id="76d5d-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="76d5d-109">顯示部署 Visual Studio 2012 RC 發行之後，引進的功能，示範如何將 SQL Server Compact 以外的 SQL Server 版本的部署和示範如何將部署至 Azure App Service Web 應用程式的教學課程，請參閱[ASP.NET Web 部署使用 Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md)。</span><span class="sxs-lookup"><span data-stu-id="76d5d-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="76d5d-110">總覽</span><span class="sxs-lookup"><span data-stu-id="76d5d-110">Overview</span></span>

<span data-ttu-id="76d5d-111">在本教學課程中，主機服務提供者的帳戶設定和部署您的 ASP.NET web 應用程式至生產環境使用 Visual Studio 單鍵發行功能。</span><span class="sxs-lookup"><span data-stu-id="76d5d-111">In this tutorial, you set up an account with a hosting provider and deploy your ASP.NET web application to the production environment by using the Visual Studio one-click publish feature.</span></span>

<span data-ttu-id="76d5d-112">提示： 如果您收到錯誤訊息，或當您瀏覽教學課程，項目無法運作，請務必檢查[疑難排解頁面](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md)。</span><span class="sxs-lookup"><span data-stu-id="76d5d-112">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="selecting-a-hosting-provider"></a><span data-ttu-id="76d5d-113">選取主控提供者</span><span class="sxs-lookup"><span data-stu-id="76d5d-113">Selecting a Hosting Provider</span></span>

<span data-ttu-id="76d5d-114">針對 Contoso 大學應用程式和此教學課程系列，您需要支援 ASP.NET 4 和 Web Deploy 提供者。</span><span class="sxs-lookup"><span data-stu-id="76d5d-114">For the Contoso University application and this tutorial series, you need a provider that supports ASP.NET 4 and Web Deploy.</span></span> <span data-ttu-id="76d5d-115">特定的控管公司選擇使教學課程可以說明將部署到即時網站的完整的經驗。</span><span class="sxs-lookup"><span data-stu-id="76d5d-115">A specific hosting company was chosen so that the tutorials could illustrate the complete experience of deploying to a live website.</span></span> <span data-ttu-id="76d5d-116">每個控管公司提供的不同功能和部署其伺服器的經驗有所不同。</span><span class="sxs-lookup"><span data-stu-id="76d5d-116">Each hosting company provides different features, and the experience of deploying to their servers varies somewhat.</span></span> <span data-ttu-id="76d5d-117">不過，本教學課程所述的程序的整體程序通常會。</span><span class="sxs-lookup"><span data-stu-id="76d5d-117">However, the process described in this tutorial is typical for the overall process.</span></span> <span data-ttu-id="76d5d-118">本教學課程，Cytanium.com，所使用的主控提供者是其中一個許多可供使用，而且其用途，在本教學課程不會構成作背書或推薦。</span><span class="sxs-lookup"><span data-stu-id="76d5d-118">The hosting provider used for this tutorial, Cytanium.com, is one of many that are available, and its use in this tutorial does not constitute an endorsement or recommendation.</span></span>

<span data-ttu-id="76d5d-119">當您準備好要選取您自己的主機服務提供者時，您可以比較功能與價格以[的提供者組件庫](https://www.microsoft.com/web/hosting)Microsoft.com/web 站台上。</span><span class="sxs-lookup"><span data-stu-id="76d5d-119">When you are ready to select your own hosting provider, you can compare features and prices in the [gallery of providers](https://www.microsoft.com/web/hosting) on the Microsoft.com/web site.</span></span>

## <a name="creating-an-account"></a><span data-ttu-id="76d5d-120">建立帳戶</span><span class="sxs-lookup"><span data-stu-id="76d5d-120">Creating an Account</span></span>

<span data-ttu-id="76d5d-121">在您選取的提供者中建立帳戶。</span><span class="sxs-lookup"><span data-stu-id="76d5d-121">Create an account at your selected provider.</span></span> <span data-ttu-id="76d5d-122">如果支援完整的 SQL Server 資料庫加入額外，您不需要選取本教學課程，但是您必須為[移轉至 SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md)教學課程稍後在本系列。</span><span class="sxs-lookup"><span data-stu-id="76d5d-122">If support for a full SQL Server database is an added extra, you do not need to select it for this tutorial, but you'll need it for the [Migrating to SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) tutorial later in this series.</span></span>

<span data-ttu-id="76d5d-123">如需這些教學課程中，您不需要註冊新的網域名稱。</span><span class="sxs-lookup"><span data-stu-id="76d5d-123">For these tutorials, you don't have to register a new domain name.</span></span> <span data-ttu-id="76d5d-124">您可以測試以確認成功部署使用暫時提供者所指派到網站的 URL。</span><span class="sxs-lookup"><span data-stu-id="76d5d-124">You can test to verify successful deployment by using the temporary URL assigned to the site by the provider.</span></span>

<span data-ttu-id="76d5d-125">在建立帳戶之後，您通常會收到包含部署及管理您的網站需要的所有資訊的歡迎電子郵件。</span><span class="sxs-lookup"><span data-stu-id="76d5d-125">After the account has been created, you typically receive a welcome email that contains all the information you need in order to deploy and manage your site.</span></span> <span data-ttu-id="76d5d-126">您的主機服務提供者會傳送給您的資訊將會類似於這裡所顯示。</span><span class="sxs-lookup"><span data-stu-id="76d5d-126">The information that your hosting provider sends you will be similar to what is shown here.</span></span> <span data-ttu-id="76d5d-127">Cytanium 歡迎電子郵件傳送給新的帳戶擁有者包括下列資訊：</span><span class="sxs-lookup"><span data-stu-id="76d5d-127">The Cytanium welcome email that's sent to new account owners includes the following information:</span></span>

- <span data-ttu-id="76d5d-128">提供者的控制項面板站台，您可以在其中管理您的網站設定 URL。</span><span class="sxs-lookup"><span data-stu-id="76d5d-128">The URL to the provider's control panel site, where you can manage settings for your site.</span></span> <span data-ttu-id="76d5d-129">識別碼和您指定的密碼包含在這個部分中的 歡迎使用電子郵件，以方便參考。</span><span class="sxs-lookup"><span data-stu-id="76d5d-129">The ID and password you specified are included in this part of the welcome email for easy reference.</span></span> <span data-ttu-id="76d5d-130">（兩者都已經變更為示範此圖中的值。）</span><span class="sxs-lookup"><span data-stu-id="76d5d-130">(Both have been changed to a demo value for this illustration.)</span></span>

    <span data-ttu-id="76d5d-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span></span>
- <span data-ttu-id="76d5d-132">預設.NET Framework 版本和如何變更它的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="76d5d-132">The default .NET Framework version and information about how to change it.</span></span> <span data-ttu-id="76d5d-133">許多裝載站台預設值為 2.0，適用於 ASP.NET 應用程式的目標為.NET Framework 2.0、 3.0 或 3.5。</span><span class="sxs-lookup"><span data-stu-id="76d5d-133">Many hosting sites default to 2.0, which works with ASP.NET applications that target the .NET Framework 2.0, 3.0, or 3.5.</span></span> <span data-ttu-id="76d5d-134">但 Contoso 大學是.NET Framework 4 應用程式，因此您必須變更此設定。</span><span class="sxs-lookup"><span data-stu-id="76d5d-134">However Contoso University is a .NET Framework 4 application, so you have to change this setting.</span></span> <span data-ttu-id="76d5d-135">（ASP.NET 4.5 應用程式為您將會使用.NET 4.0 設定）。</span><span class="sxs-lookup"><span data-stu-id="76d5d-135">(For an ASP.NET 4.5 application you would use the .NET 4.0 setting.)</span></span>

    <span data-ttu-id="76d5d-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span></span>
- <span data-ttu-id="76d5d-137">暫存 URL 可讓您存取您的網站。</span><span class="sxs-lookup"><span data-stu-id="76d5d-137">The temporary URL that you can use to access your web site.</span></span> <span data-ttu-id="76d5d-138">建立此帳戶後，「 contosouniversity.com"輸入做為現有的網域名稱。</span><span class="sxs-lookup"><span data-stu-id="76d5d-138">When this account was created, "contosouniversity.com" was entered as the existing domain name.</span></span> <span data-ttu-id="76d5d-139">因此暫存的 URL 是`http://contosouniversity.com.vserver01.cytanium.com`。</span><span class="sxs-lookup"><span data-stu-id="76d5d-139">Therefore the temporary URL is `http://contosouniversity.com.vserver01.cytanium.com`.</span></span>

    <span data-ttu-id="76d5d-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span></span>
- <span data-ttu-id="76d5d-141">有關如何設定資料庫和您需要以存取它們的連接字串：</span><span class="sxs-lookup"><span data-stu-id="76d5d-141">Information about how to set up databases, and the connection strings that you need in order to access them:</span></span>

    <span data-ttu-id="76d5d-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span></span>
- <span data-ttu-id="76d5d-143">工具和部署您的站台設定的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="76d5d-143">Information about tools and settings for deploying your site.</span></span> <span data-ttu-id="76d5d-144">（從 Cytanium 電子郵件也會提及 WebMatrix，這裡省略。）</span><span class="sxs-lookup"><span data-stu-id="76d5d-144">(The email from Cytanium also mentions WebMatrix, which is omitted here.)</span></span>

    <span data-ttu-id="76d5d-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span></span>

## <a name="setting-the-net-framework-version"></a><span data-ttu-id="76d5d-146">設定.NET Framework 版本</span><span class="sxs-lookup"><span data-stu-id="76d5d-146">Setting the .NET Framework Version</span></span>

<span data-ttu-id="76d5d-147">Cytanium 歡迎電子郵件包含有關如何變更.NET Framework 版本的指示的連結。</span><span class="sxs-lookup"><span data-stu-id="76d5d-147">The Cytanium welcome email includes a link to instructions on how to change the version of the .NET Framework.</span></span> <span data-ttu-id="76d5d-148">這些指示會說明這可以在透過 Cytanium 控制台來完成。</span><span class="sxs-lookup"><span data-stu-id="76d5d-148">These instructions explain that this can be done through the Cytanium control panel.</span></span> <span data-ttu-id="76d5d-149">其他提供者可控制面板網站，看起來不同，或它們可能會指示您這麼做的方式不同。</span><span class="sxs-lookup"><span data-stu-id="76d5d-149">Other providers have control panel sites that look different, or they may instruct you to do this in a different way.</span></span>

<span data-ttu-id="76d5d-150">移至控制台 URL。</span><span class="sxs-lookup"><span data-stu-id="76d5d-150">Go to the control panel URL.</span></span> <span data-ttu-id="76d5d-151">登入您的使用者名稱和密碼之後，您會看到控制台。</span><span class="sxs-lookup"><span data-stu-id="76d5d-151">After logging in with your user name and password, you see the control panel.</span></span>

<span data-ttu-id="76d5d-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span></span>

<span data-ttu-id="76d5d-153">在**裝載空格**，請將指標的 [Web] 圖示並選取**網站**從功能表。</span><span class="sxs-lookup"><span data-stu-id="76d5d-153">In the **Hosting Spaces** box, hold the pointer over the Web icon and select **Web Sites** from the menu.</span></span>

<span data-ttu-id="76d5d-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span></span>

<span data-ttu-id="76d5d-155">在**網站**方塊中，按一下**contosouniversity.com** （您已建立的帳戶時所使用的站台的名稱）。</span><span class="sxs-lookup"><span data-stu-id="76d5d-155">In the **Web Sites** box, click **contosouniversity.com** (the name of the site that you used when you created the account).</span></span>

<span data-ttu-id="76d5d-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span></span>

<span data-ttu-id="76d5d-157">在**網站內容**方塊中，選取**延伸** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="76d5d-157">In the **Web Site Properties** box, select the **Extensions** tab.</span></span>

<span data-ttu-id="76d5d-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span></span>

<span data-ttu-id="76d5d-159">變更從 ASP.NET **2.0 整合式的管線**至**4.0 （整合式管線）**，然後按一下 **更新**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-159">Change ASP.NET from **2.0 Integrated Pipeline** to **4.0 (Integrated Pipeline)**, and then click **Update**.</span></span>

## <a name="publishing-to-the-hosting-provider"></a><span data-ttu-id="76d5d-160">發行至主控提供者</span><span class="sxs-lookup"><span data-stu-id="76d5d-160">Publishing to the Hosting Provider</span></span>

<span data-ttu-id="76d5d-161">歡迎使用電子郵件，主機服務提供者從包含所有必要的設定，您才能將專案發行，您可以手動輸入這些資訊至發行設定檔。</span><span class="sxs-lookup"><span data-stu-id="76d5d-161">The welcome email from the hosting provider includes all of the settings you need in order to publish the project, and you can enter that information manually into a publish profile.</span></span> <span data-ttu-id="76d5d-162">但是您將設定部署給提供者使用容易和較容易發生錯誤的方法： 您將下載 *.publishsettings*檔案並匯入發行設定檔。</span><span class="sxs-lookup"><span data-stu-id="76d5d-162">But you'll use an easier and less error-prone method to configure deployment to the provider: you'll download a *.publishsettings* file and import it into a publish profile.</span></span>

<span data-ttu-id="76d5d-163">在您的瀏覽器，移至 Cytanium 控制台中並選取**Web** ，然後選取 **網站。**</span><span class="sxs-lookup"><span data-stu-id="76d5d-163">In your browser, go to the Cytanium control panel and select **Web** and then select **Web Sites.**</span></span>

![選取網站的控制台](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image19.png)

<span data-ttu-id="76d5d-165">選取**contosouniversity.com**網站。</span><span class="sxs-lookup"><span data-stu-id="76d5d-165">Select the **contosouniversity.com** web site.</span></span>

![選取 contosouniversity.com 控制台](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image20.png)

<span data-ttu-id="76d5d-167">選取**Web 發佈** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="76d5d-167">Select the **Web Publishing** tab.</span></span>

![控制項面板發行 Web 索引標籤](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image21.png)

<span data-ttu-id="76d5d-169">建立要用於 web 發行輸入使用者名稱和密碼認證。</span><span class="sxs-lookup"><span data-stu-id="76d5d-169">Create credentials to use for web publishing by entering a user name and password.</span></span> <span data-ttu-id="76d5d-170">您可以輸入您用來登入控制台中的相同認證。</span><span class="sxs-lookup"><span data-stu-id="76d5d-170">You can enter the same credentials that you use to log on to the control panel.</span></span> <span data-ttu-id="76d5d-171">然後按一下 **啟用**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-171">Then click **Enable**.</span></span>

![控制台中建立發行認證](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image22.png)

<span data-ttu-id="76d5d-173">按一下**這個網站下載發行設定檔**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-173">Click **Download Publishing Profile for this web site**.</span></span>

![控制項面板下載發行設定檔](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image23.png)

<span data-ttu-id="76d5d-175">當提示您開啟或儲存檔案時，請將其儲存。</span><span class="sxs-lookup"><span data-stu-id="76d5d-175">When you are prompted to open or save the file, save it.</span></span>

![儲存發行設定檔](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image24.png)

<span data-ttu-id="76d5d-177">在**方案總管 中**在 Visual Studio 中，以滑鼠右鍵按一下 ContosoUniversity 專案並選取**發行**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-177">In **Solution Explorer** in Visual Studio, right-click the ContosoUniversity project and select **Publish**.</span></span> <span data-ttu-id="76d5d-178">**發行 Web**  對話方塊隨即開啟**預覽**索引標籤與**測試**選取，因為這是您所使用的最後一個設定檔的設定檔。</span><span class="sxs-lookup"><span data-stu-id="76d5d-178">The **Publish Web** dialog box opens on the **Preview** tab with the **Test** profile selected because that is the last profile you used.</span></span>

<span data-ttu-id="76d5d-179">選取**設定檔**索引標籤，然後按一下 **匯入**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-179">Select the **Profile** tab and then Click **Import**.</span></span>

![發行網站精靈匯入 按鈕](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image25.png)

<span data-ttu-id="76d5d-181">在**匯入發行設定**對話方塊中，選取 *.publishsettings*檔案您下載，然後按一下**開啟**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-181">In the **Import Publish Settings** dialog box, select the *.publishsettings* file that you downloaded, and click **Open**.</span></span> <span data-ttu-id="76d5d-182">精靈將使用的所有欄位填入都進入 [連線] 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="76d5d-182">The wizard advances to the Connection tab with all of the fields filled in.</span></span>

![發行網站精靈連線 索引標籤](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image26.png)

<span data-ttu-id="76d5d-184">.Publishsettings 檔案置於 [目的地 URL] 方塊中，站台的計劃永久 URL，但您尚未購買該網域，如果值取代為暫存的 URL。</span><span class="sxs-lookup"><span data-stu-id="76d5d-184">The .publishsettings file puts the planned permanent URL for the site in the Destination URL box, but if you haven't purchased that domain yet, replace the value with the temporary URL.</span></span> <span data-ttu-id="76d5d-185">此範例中，URL 是 *[ http://contosouniversity.com.vserver01.cytanium.com ](http://contosouniversity.com.vserver01.cytanium.com)。*</span><span class="sxs-lookup"><span data-stu-id="76d5d-185">For this example, the URL is *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).*</span></span> <span data-ttu-id="76d5d-186">此方塊的唯一目的是指定何種瀏覽器會開啟自動之後成功部署之後的 URL。</span><span class="sxs-lookup"><span data-stu-id="76d5d-186">The only purpose of this box is to specify what URL the browser will open to automatically after successfully after deployment.</span></span> <span data-ttu-id="76d5d-187">如果保留空白，唯一的結果會是瀏覽器不會自動啟動部署之後。</span><span class="sxs-lookup"><span data-stu-id="76d5d-187">If you leave it blank, the only consequence is that the browser won't start automatically after deployment.</span></span>

<span data-ttu-id="76d5d-188">按一下**驗證連線**確認設定正確無誤，而且您可以連接到伺服器。</span><span class="sxs-lookup"><span data-stu-id="76d5d-188">Click **Validate Connection** to verify that the settings are correct and you can connect to the server.</span></span> <span data-ttu-id="76d5d-189">如稍早所見，綠色的核取記號會驗證是成功的連線。</span><span class="sxs-lookup"><span data-stu-id="76d5d-189">As you saw earlier, a green check mark verifies that the connection is successful.</span></span>

<span data-ttu-id="76d5d-190">當您按一下 [驗證連線時，您可能會看到**憑證錯誤**] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="76d5d-190">When you click Validate Connection, you might see a **Certificate Error** dialog box.</span></span> <span data-ttu-id="76d5d-191">如果您這樣做，請確認伺服器名稱是您所預期。</span><span class="sxs-lookup"><span data-stu-id="76d5d-191">If you do, verify that the server name is what you expect.</span></span> <span data-ttu-id="76d5d-192">如果是，選取**儲存這個憑證以供未來 Visual Studio 工作階段**按一下**接受**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-192">If it is, select **Save this certificate for future sessions of Visual Studio** and click **Accept**.</span></span> <span data-ttu-id="76d5d-193">（此錯誤表示主機服務提供者已選擇來避免所購買的 SSL 憑證適用於您要部署的 URL 的費用。</span><span class="sxs-lookup"><span data-stu-id="76d5d-193">(This error means that the hosting provider has chosen to avoid the expense of purchasing an SSL certificate for the URL that you are deploying to.</span></span> <span data-ttu-id="76d5d-194">如果您想要使用的有效憑證來建立安全連接，請連絡您的主機服務提供者。）</span><span class="sxs-lookup"><span data-stu-id="76d5d-194">If you prefer to establish a secure connection by using a valid certificate, contact your hosting provider.)</span></span>

![憑證錯誤](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image27.png)

<span data-ttu-id="76d5d-196">按 [ **下一步**]。</span><span class="sxs-lookup"><span data-stu-id="76d5d-196">Click **Next**.</span></span>

<span data-ttu-id="76d5d-197">在**資料庫**區段**設定**索引標籤上，輸入相同的測試輸入值的發行設定檔。</span><span class="sxs-lookup"><span data-stu-id="76d5d-197">In the **Databases** section of the **Settings** tab, enter the same values that you entered for the Test publish profile.</span></span> <span data-ttu-id="76d5d-198">在下拉式清單中，您會發現您需要的連接字串。</span><span class="sxs-lookup"><span data-stu-id="76d5d-198">You'll find the connection strings you need in the drop-down lists.</span></span>

- <span data-ttu-id="76d5d-199">在連接字串 方塊的**SchoolContext，** 選取 `Data Source=|DataDirectory|School-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="76d5d-199">In the connection string box for **SchoolContext,** select `Data Source=|DataDirectory|School-Prod.sdf`</span></span>
- <span data-ttu-id="76d5d-200">在下**SchoolContext**，選取**套用 Code First 移轉**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-200">Under **SchoolContext**, select **Apply Code First Migrations**.</span></span>
- <span data-ttu-id="76d5d-201">在連接字串 方塊的**DefaultConnection**，請選取 `Data Source=|DataDirectory|aspnet-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="76d5d-201">In the connection string box for **DefaultConnection**, select `Data Source=|DataDirectory|aspnet-Prod.sdf`</span></span>
- <span data-ttu-id="76d5d-202">在下**DefaultConnection**，保留**更新資料庫**清除。</span><span class="sxs-lookup"><span data-stu-id="76d5d-202">Under **DefaultConnection**, leave **Update database** cleared.</span></span>

![發行網站精靈設定 索引標籤](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image28.png)

<span data-ttu-id="76d5d-204">按 [ **下一步**]。</span><span class="sxs-lookup"><span data-stu-id="76d5d-204">Click **Next**.</span></span>

<span data-ttu-id="76d5d-205">在**預覽**索引標籤上，按一下 **啟動預覽**若要查看將複製的檔案清單。</span><span class="sxs-lookup"><span data-stu-id="76d5d-205">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span> <span data-ttu-id="76d5d-206">您會看到相同之前看到當您部署至 IIS 在本機電腦上的清單。</span><span class="sxs-lookup"><span data-stu-id="76d5d-206">You see the same list that you saw earlier when you deployed to IIS on the local computer.</span></span>

<span data-ttu-id="76d5d-207">在發行之前，變更設定檔的名稱，使您 Web.Production.config 轉換檔案將會套用。</span><span class="sxs-lookup"><span data-stu-id="76d5d-207">Before you publish, change the name of the profile so that your Web.Production.config transformation file will be applied.</span></span> <span data-ttu-id="76d5d-208">選取**設定檔**索引標籤上，按一下 **管理設定檔**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-208">Select the **Profile** tab and click **Manage Profiles**.</span></span>

![發行網站精靈管理設定檔](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image29.png)

<span data-ttu-id="76d5d-210">在**編輯 Web 發行設定檔**對話方塊方塊中，選取實際執行設定檔中，按一下**重新命名**，並將設定檔名稱變更為生產環境。</span><span class="sxs-lookup"><span data-stu-id="76d5d-210">In the **Edit Web Publish Profiles** dialog box, select the production profile, click **Rename**, and change the profile name to Production.</span></span> <span data-ttu-id="76d5d-211">然後按一下 **關閉**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-211">Then click **Close**.</span></span>

![編輯 Web 發行設定檔 對話方塊](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image30.png)

<span data-ttu-id="76d5d-213">按一下 [發行] 。</span><span class="sxs-lookup"><span data-stu-id="76d5d-213">Click **Publish**.</span></span>

<span data-ttu-id="76d5d-214">應用程式發行至主控提供者。</span><span class="sxs-lookup"><span data-stu-id="76d5d-214">The application is published to the hosting provider.</span></span> <span data-ttu-id="76d5d-215">結果會顯示在**輸出**視窗。</span><span class="sxs-lookup"><span data-stu-id="76d5d-215">The result shows in the **Output** window.</span></span>

![在部署後的 [輸出] 視窗](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image31.png)

<span data-ttu-id="76d5d-217">您在輸入的 url 會自動開啟瀏覽器**目的地 URL**方塊上**連接** 索引標籤**發行 Web**精靈。</span><span class="sxs-lookup"><span data-stu-id="76d5d-217">The browser automatically opens to the URL that you entered in **Destination URL** box on the **Connection** tab of the **Publish Web** wizard.</span></span> <span data-ttu-id="76d5d-218">您會看到相同的首頁上，做為當您執行站台在 Visual Studio 中，但現在是沒有 「 （測試） 」 或 「 （開發） 」 的標題列中的環境指標。</span><span class="sxs-lookup"><span data-stu-id="76d5d-218">You see the same home page as when you run the site in Visual Studio, except now there is no "(Test)" or "(Dev)" environment indicator in the title bar.</span></span> <span data-ttu-id="76d5d-219">這表示環境指標*Web.config*轉換正常運作。</span><span class="sxs-lookup"><span data-stu-id="76d5d-219">This indicates that the environment indicator *Web.config* transformation worked correctly.</span></span>

> [!NOTE]
> <span data-ttu-id="76d5d-220">如果您仍然可以看到 「 （測試） 」 標題中，刪除*obj*從 ContosoUniversity 專案及重新部署的資料夾。</span><span class="sxs-lookup"><span data-stu-id="76d5d-220">If you still see "(Test)" in the heading, delete the *obj* folder from the ContosoUniversity project and redeploy.</span></span> <span data-ttu-id="76d5d-221">在發行前版本的軟體，先前套用的轉換檔 (Web.Test.config) 可能會取得重新套用雖然使用實際執行設定檔。</span><span class="sxs-lookup"><span data-stu-id="76d5d-221">In pre-release versions of the software, the previously applied transformation file (Web.Test.config) might get applied again although you are using the Production profile.</span></span>


<span data-ttu-id="76d5d-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span></span>

<span data-ttu-id="76d5d-223">執行會導致資料庫存取的頁面之前，請確定 Elmah 能夠記錄就會發生任何錯誤。</span><span class="sxs-lookup"><span data-stu-id="76d5d-223">Before you run a page that causes database access, make sure that Elmah will be able to log any errors that occur.</span></span>

## <a name="setting-folder-permissions-for-elmah"></a><span data-ttu-id="76d5d-224">設定 Elmah 資料夾權的限</span><span class="sxs-lookup"><span data-stu-id="76d5d-224">Setting Folder Permissions for Elmah</span></span>

<span data-ttu-id="76d5d-225">當您從上一個教學課程，在這一系列請記住，您必須確定應用程式有 Elmah 儲存錯誤記錄檔中您的應用程式資料夾的寫入權限。</span><span class="sxs-lookup"><span data-stu-id="76d5d-225">As you remember from the previous tutorial in this series, you must make sure that the application has Write permissions for the folder in your application where Elmah stores error log files.</span></span> <span data-ttu-id="76d5d-226">當您部署至 IIS 在本機電腦上時，會以手動方式設定這些權限。</span><span class="sxs-lookup"><span data-stu-id="76d5d-226">When you deployed to IIS locally on your computer, you set those permissions manually.</span></span> <span data-ttu-id="76d5d-227">本節中，您將了解如何在 Cytanium 設定權限。</span><span class="sxs-lookup"><span data-stu-id="76d5d-227">In this section, you'll see how to set permissions at Cytanium.</span></span> <span data-ttu-id="76d5d-228">（有些主控提供者不能讓您執行這項操作，可能提供了一個或多個預先定義的資料夾，具有寫入權限。</span><span class="sxs-lookup"><span data-stu-id="76d5d-228">(Some hosting providers may not enable you to do this; they may offer one or more predefined folders with Write permissions.</span></span> <span data-ttu-id="76d5d-229">在此情況下您必須修改應用程式以使用指定的資料夾。）</span><span class="sxs-lookup"><span data-stu-id="76d5d-229">In that case you would have to modify your application to use the specified folders.)</span></span>

<span data-ttu-id="76d5d-230">您可以在 Cytanium 控制台中設定資料夾權限。</span><span class="sxs-lookup"><span data-stu-id="76d5d-230">You can set folder permissions in the Cytanium control panel.</span></span> <span data-ttu-id="76d5d-231">請移至控制項面板 URL，然後選取**檔案管理員**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-231">Go to the control panel URL and select **File Manager**.</span></span>

<span data-ttu-id="76d5d-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span></span>

<span data-ttu-id="76d5d-233">在**檔案管理員**方塊中，選取**contosouniversity.com**然後**wwwrooot**若要查看應用程式的根資料夾。</span><span class="sxs-lookup"><span data-stu-id="76d5d-233">In the **File Manager** box, select **contosouniversity.com** and then **wwwrooot** to see the application's root folder.</span></span> <span data-ttu-id="76d5d-234">按一下掛鎖圖示旁**Elmah**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-234">Click the padlock icon next to **Elmah**.</span></span>

<span data-ttu-id="76d5d-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span></span>

<span data-ttu-id="76d5d-236">在**檔案**/**資料夾權限**視窗中，選取**讀取**和**寫入**的核取方塊**contosouniversity.com**按一下**設定權限**。</span><span class="sxs-lookup"><span data-stu-id="76d5d-236">In the **File**/**Folder Permissions** window, select the **Read** and **Write** checkboxes for **contosouniversity.com** and click **Set Permissions**.</span></span>

<span data-ttu-id="76d5d-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span></span>

<span data-ttu-id="76d5d-238">請確定 Elmah 具有寫入權限*Elmah*導致錯誤發生，並顯示 Elmah 錯誤報告的資料夾。</span><span class="sxs-lookup"><span data-stu-id="76d5d-238">Make sure that Elmah has write access to the *Elmah* folder by causing an error and then displaying the Elmah error report.</span></span> <span data-ttu-id="76d5d-239">要求無效的 URL，例如*Studentsxxx.aspx*。</span><span class="sxs-lookup"><span data-stu-id="76d5d-239">Request an invalid URL like *Studentsxxx.aspx*.</span></span> <span data-ttu-id="76d5d-240">如往常一般，您會看到*GenericErrorPage.aspx*頁面。</span><span class="sxs-lookup"><span data-stu-id="76d5d-240">As before, you see the *GenericErrorPage.aspx* page.</span></span> <span data-ttu-id="76d5d-241">按一下**登出**連結，然後再執行*Elmah.axd*。</span><span class="sxs-lookup"><span data-stu-id="76d5d-241">Click the **Log Out** link, and then run *Elmah.axd*.</span></span> <span data-ttu-id="76d5d-242">您取得**登入**首先，頁面會驗證*Web.config*轉換已成功加入 Elmah 授權。</span><span class="sxs-lookup"><span data-stu-id="76d5d-242">You get the **Log In** page first, which validates that the *Web.config* transform successfully added Elmah authorization.</span></span> <span data-ttu-id="76d5d-243">登入之後，您會看到顯示您剛才造成錯誤的報表。</span><span class="sxs-lookup"><span data-stu-id="76d5d-243">After you log in, you see the report that shows the error you just caused.</span></span>

<span data-ttu-id="76d5d-244">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-244">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span></span>

## <a name="testing-in-the-production-environment"></a><span data-ttu-id="76d5d-245">在實際執行環境中測試</span><span class="sxs-lookup"><span data-stu-id="76d5d-245">Testing in the Production Environment</span></span>

<span data-ttu-id="76d5d-246">執行**學生**頁面。</span><span class="sxs-lookup"><span data-stu-id="76d5d-246">Run the **Students** page.</span></span> <span data-ttu-id="76d5d-247">應用程式嘗試存取 School 資料庫第一次，Code First 移轉來建立資料庫觸發程序。</span><span class="sxs-lookup"><span data-stu-id="76d5d-247">The application tries to access the School database for the first time, which triggers Code First Migrations to create the database.</span></span> <span data-ttu-id="76d5d-248">當此頁面會顯示目前的延遲之後時，它會顯示有沒有學生。</span><span class="sxs-lookup"><span data-stu-id="76d5d-248">When the page displays after a moment's delay, it shows that there are no students.</span></span>

<span data-ttu-id="76d5d-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span></span>

<span data-ttu-id="76d5d-250">執行**講師**頁面，即可確認種子資料已成功在資料庫中插入講師資料。</span><span class="sxs-lookup"><span data-stu-id="76d5d-250">Run the **Instructors** page to verify that the Seed data successfully inserted instructor data in the database.</span></span>

<span data-ttu-id="76d5d-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span></span>

<span data-ttu-id="76d5d-252">您可以如同在測試環境中，您會想要確認資料庫更新實際執行環境中運作，但通常不想將測試資料輸入您的生產資料庫。</span><span class="sxs-lookup"><span data-stu-id="76d5d-252">As you did in the test environment, you want to verify that database updates work in the production environment, but you typically do not want to enter test data into your production database.</span></span> <span data-ttu-id="76d5d-253">此教學課程中，您將使用中測試相同的方法。</span><span class="sxs-lookup"><span data-stu-id="76d5d-253">For this tutorial, you'll use the same method you did in test.</span></span> <span data-ttu-id="76d5d-254">但是在實際的應用程式，您可能想要尋找的方法，會驗證該資料庫更新成功且不會造成到實際執行資料庫的測試資料。</span><span class="sxs-lookup"><span data-stu-id="76d5d-254">But in a real application you might want to find a method that validates that database updates are successful without introducing test data into the production database.</span></span> <span data-ttu-id="76d5d-255">在某些應用程式，可能適合加入一些內容，然後再刪除它。</span><span class="sxs-lookup"><span data-stu-id="76d5d-255">In some applications, it might be practical to add something and then delete it.</span></span>

<span data-ttu-id="76d5d-256">新增一位學生，然後再檢視您在輸入資料**學生**頁面，即可確認您可以更新資料庫中的資料。</span><span class="sxs-lookup"><span data-stu-id="76d5d-256">Add a student and then view the data you entered in the **Students** page to verify that you can update data in the database.</span></span>

<span data-ttu-id="76d5d-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span></span>

<span data-ttu-id="76d5d-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span></span>

<span data-ttu-id="76d5d-259">驗證授權規則是否正常運作所選取**更新信用額度**從**課程**功能表。</span><span class="sxs-lookup"><span data-stu-id="76d5d-259">Validate that authorization rules are working correctly by selecting **Update Credits** from the **Courses** menu.</span></span> <span data-ttu-id="76d5d-260">**登入**頁面隨即顯示。</span><span class="sxs-lookup"><span data-stu-id="76d5d-260">The **Log In** page is displayed.</span></span> <span data-ttu-id="76d5d-261">輸入您的系統管理員帳戶認證，請按一下**登入**，而**更新信用額度**頁面隨即顯示。</span><span class="sxs-lookup"><span data-stu-id="76d5d-261">Enter your administrator account credentials, click **Log In**, and the **Update Credits** page is displayed.</span></span>

<span data-ttu-id="76d5d-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span></span>

<span data-ttu-id="76d5d-263">如果成功，登入**更新信用額度**頁面隨即顯示。</span><span class="sxs-lookup"><span data-stu-id="76d5d-263">If login is successful, the **Update Credits** page is displayed.</span></span> <span data-ttu-id="76d5d-264">這表示已成功部署 ASP.NET 成員資格資料庫 （使用單一的系統管理員帳戶）。</span><span class="sxs-lookup"><span data-stu-id="76d5d-264">This indicates that the ASP.NET membership database (with the single administrator account) was successfully deployed.</span></span>

<span data-ttu-id="76d5d-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="76d5d-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span></span>

<span data-ttu-id="76d5d-266">您現在已成功部署和測試您的網站，而且已使用可公開在網際網路上。</span><span class="sxs-lookup"><span data-stu-id="76d5d-266">You have now successfully deployed and tested your site and it is available publicly over the Internet.</span></span>

## <a name="creating-a-more-reliable-test-environment"></a><span data-ttu-id="76d5d-267">建立更可靠的測試環境</span><span class="sxs-lookup"><span data-stu-id="76d5d-267">Creating a More Reliable Test Environment</span></span>

<span data-ttu-id="76d5d-268">中所述[部署到測試環境](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md)教學課程中，最可靠的測試環境必須是具有一樣生產帳戶主控提供者上的第二個帳戶。</span><span class="sxs-lookup"><span data-stu-id="76d5d-268">As explained in the [Deploying to the Test Environment](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) tutorial, the most reliable test environment would be a second account at the hosting provider that's just like the production account.</span></span> <span data-ttu-id="76d5d-269">這會是成本高於使用本機 IIS 做為您的測試環境，因為您必須登入第二個裝載帳戶。</span><span class="sxs-lookup"><span data-stu-id="76d5d-269">This would be more expensive than using local IIS as your test environment, since you would have to sign up for a second hosting account.</span></span> <span data-ttu-id="76d5d-270">但是，如果它會防止生產網站錯誤或中斷情形，您可能會決定是否值得成本。</span><span class="sxs-lookup"><span data-stu-id="76d5d-270">But if it prevents production site errors or outages, you might decide that it's worth the cost.</span></span>

<span data-ttu-id="76d5d-271">大部分的建立及部署至測試帳戶的程序是類似什麼您已經部署到生產環境：</span><span class="sxs-lookup"><span data-stu-id="76d5d-271">Most of the process for creating and deploying to a test account is similar to what you've already done to deploy to production:</span></span>

- <span data-ttu-id="76d5d-272">建立*Web.config*轉換檔案。</span><span class="sxs-lookup"><span data-stu-id="76d5d-272">Create a *Web.config* transformation file.</span></span>
- <span data-ttu-id="76d5d-273">主控提供者上建立帳戶。</span><span class="sxs-lookup"><span data-stu-id="76d5d-273">Create an account at the hosting provider.</span></span>
- <span data-ttu-id="76d5d-274">建立新的發行設定檔，並部署至測試帳戶。</span><span class="sxs-lookup"><span data-stu-id="76d5d-274">Create a new publish profile and deploy to the test account.</span></span>

### <a name="preventing-public-access-to-the-test-site"></a><span data-ttu-id="76d5d-275">防止測試站台的公用存取</span><span class="sxs-lookup"><span data-stu-id="76d5d-275">Preventing Public Access to the Test Site</span></span>

<span data-ttu-id="76d5d-276">測試帳戶的一個重要考量是會即時在網際網路上，但您不想使用它公開。</span><span class="sxs-lookup"><span data-stu-id="76d5d-276">An important consideration for the test account is that it will be live on the Internet, but you don't want the public to use it.</span></span> <span data-ttu-id="76d5d-277">要保密的站台，您可以使用一或多個下列方法：</span><span class="sxs-lookup"><span data-stu-id="76d5d-277">To keep the site private you can use one or more of the following methods:</span></span>

- <span data-ttu-id="76d5d-278">請連絡主機服務提供者設定允許只從您用於測試的 IP 位址測試網站存取的防火牆規則。</span><span class="sxs-lookup"><span data-stu-id="76d5d-278">Contact the hosting provider to set firewall rules that allow access to the testing site only from IP addresses that you use for testing.</span></span>
- <span data-ttu-id="76d5d-279">偽裝成 URL，使它不是類似於公用網站的 URL。</span><span class="sxs-lookup"><span data-stu-id="76d5d-279">Disguise the URL so that it is not similar to the public site's URL.</span></span>
- <span data-ttu-id="76d5d-280">使用*robots.txt*檔案，以確保搜尋引擎在搜尋結果中，，不編目，測試站台和報表連結。</span><span class="sxs-lookup"><span data-stu-id="76d5d-280">Use a *robots.txt* file to ensure that search engines will not crawl the test site and report links to it in search results.</span></span>

<span data-ttu-id="76d5d-281">這些方法的第一個是很明顯地，最不安全，但該程序專屬於每個主機服務提供者並不會涵蓋在本教學課程。</span><span class="sxs-lookup"><span data-stu-id="76d5d-281">The first of these methods is obviously the most secure, but the procedure for that is specific to each hosting provider and will not be covered in this tutorial.</span></span> <span data-ttu-id="76d5d-282">如果您不要排列您裝載的提供者，允許只瀏覽至測試帳戶 URL 的 IP 位址，您理論上不需要擔心搜尋引擎編目它。</span><span class="sxs-lookup"><span data-stu-id="76d5d-282">If you do arrange with your hosting provider to allow only your IP address to browse to the test account URL, you theoretically don't have to worry about search engines crawling it.</span></span> <span data-ttu-id="76d5d-283">但是即使在此情況下，部署*robots.txt*檔案，最好以當作備份以防該防火牆規則曾經意外關閉。</span><span class="sxs-lookup"><span data-stu-id="76d5d-283">But even in that case, deploying a *robots.txt* file is a good idea as a backup in case that firewall rule is ever accidentally turned off.</span></span>

<span data-ttu-id="76d5d-284">*Robots.txt*檔案則是放在您的專案資料夾，以及應該在它有下列文字：</span><span class="sxs-lookup"><span data-stu-id="76d5d-284">The *robots.txt* file goes in your project folder and should have the following text in it:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/samples/sample1.cmd)]

<span data-ttu-id="76d5d-285">`User-agent`一行告訴檔案中的規則套用至所有搜尋引擎網頁自動尋檢 (robots)，搜尋引擎和`Disallow`一行指定應該進行編目的網站上的任何頁面。</span><span class="sxs-lookup"><span data-stu-id="76d5d-285">The `User-agent` line tells search engines that the rules in the file apply to all search engine web crawlers (robots), and the `Disallow` line specifies that no pages on the site should be crawled.</span></span>

<span data-ttu-id="76d5d-286">您可能想搜尋引擎目錄生產網站，因此您需要從生產環境部署中排除此檔案。</span><span class="sxs-lookup"><span data-stu-id="76d5d-286">You probably do want search engines to catalog your production site, so you need to exclude this file from production deployment.</span></span> <span data-ttu-id="76d5d-287">若要這樣做，請參閱**可以我排除特定檔案或資料夾從部署嗎？** 中[ASP.NET Web 應用程式專案部署常見問題集](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment)。</span><span class="sxs-lookup"><span data-stu-id="76d5d-287">To do that, see **Can I exclude specific files or folders from deployment?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span></span> <span data-ttu-id="76d5d-288">請確定您指定在排除，只會針對實際執行發行設定檔。</span><span class="sxs-lookup"><span data-stu-id="76d5d-288">Make sure that you specify the exclusion only for the Production publish profile.</span></span>

<span data-ttu-id="76d5d-289">建立第二個裝載帳戶是一種方法使用的測試環境，不是必要，但是可能值得額外的費用。</span><span class="sxs-lookup"><span data-stu-id="76d5d-289">Creating a second hosting account is an approach to working with a test environment that is not required but might be worth the added expense.</span></span> <span data-ttu-id="76d5d-290">在下列的教學課程中，您將會繼續使用 IIS 做為您的測試環境。</span><span class="sxs-lookup"><span data-stu-id="76d5d-290">In the following tutorials, you'll continue to use IIS as your test environment.</span></span>

<span data-ttu-id="76d5d-291">下一個教學課程中，您將更新應用程式程式碼，並將您的變更部署到測試和生產環境。</span><span class="sxs-lookup"><span data-stu-id="76d5d-291">In the next tutorial, you'll update application code and deploy your change to the test and production environments.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="76d5d-292">[上一頁](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
> [下一頁](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="76d5d-292">[Previous](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
[Next](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span></span>
