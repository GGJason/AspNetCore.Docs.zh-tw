# <a name="additional-claims-sample-app"></a><span data-ttu-id="b21b5-101">其他宣告範例應用程式</span><span class="sxs-lookup"><span data-stu-id="b21b5-101">Additional Claims Sample App</span></span>

<span data-ttu-id="b21b5-102">範例應用程式會示範如何：</span><span class="sxs-lookup"><span data-stu-id="b21b5-102">The sample app demonstrates how to:</span></span>

* <span data-ttu-id="b21b5-103">從 Google 取得使用者名字和姓氏，並使用 Google 提供的值來儲存名稱宣告。</span><span class="sxs-lookup"><span data-stu-id="b21b5-103">Obtain the user's given name and surname from Google and store the name claims with the values provided by Google.</span></span>
* <span data-ttu-id="b21b5-104">將 Google 存取權杖儲存在使用者的 `AuthenticationProperties` 中。</span><span class="sxs-lookup"><span data-stu-id="b21b5-104">Store the Google access token in the user's `AuthenticationProperties`.</span></span>

<span data-ttu-id="b21b5-105">若要使用範例應用程式：</span><span class="sxs-lookup"><span data-stu-id="b21b5-105">To use the sample app:</span></span>

1. <span data-ttu-id="b21b5-106">註冊應用程式，並取得有效的用戶端識別碼和用戶端密碼以進行 Google 驗證。</span><span class="sxs-lookup"><span data-stu-id="b21b5-106">Register the app and obtain a valid client ID and client secret for Google authentication.</span></span> <span data-ttu-id="b21b5-107">如需詳細資訊，請參閱[Google external login 設定](https://docs.microsoft.com/aspnet/core/security/authentication/social/google-logins)。</span><span class="sxs-lookup"><span data-stu-id="b21b5-107">For more information, see [Google external login setup](https://docs.microsoft.com/aspnet/core/security/authentication/social/google-logins).</span></span>
1. <span data-ttu-id="b21b5-108">將用戶端識別碼和用戶端秘密提供給[GoogleOptions](https://docs.microsoft.com/dotnet/api/microsoft.aspnetcore.authentication.google.googleoptions)中的應用程式（`Startup.ConfigureServices`）。</span><span class="sxs-lookup"><span data-stu-id="b21b5-108">Provide the client ID and client secret to the app in the [GoogleOptions](https://docs.microsoft.com/dotnet/api/microsoft.aspnetcore.authentication.google.googleoptions) of `Startup.ConfigureServices`.</span></span>
1. <span data-ttu-id="b21b5-109">執行應用程式並要求 [我的宣告] 頁面。</span><span class="sxs-lookup"><span data-stu-id="b21b5-109">Run the app and request the My Claims page.</span></span> <span data-ttu-id="b21b5-110">當使用者未登入時，應用程式會重新導向至 Google。</span><span class="sxs-lookup"><span data-stu-id="b21b5-110">When the user isn't signed in, the app redirects to Google.</span></span> <span data-ttu-id="b21b5-111">使用 Google 登入。</span><span class="sxs-lookup"><span data-stu-id="b21b5-111">Sign in with Google.</span></span> <span data-ttu-id="b21b5-112">Google 會將使用者重新導向回到應用程式（`/MyClaims`）。</span><span class="sxs-lookup"><span data-stu-id="b21b5-112">Google redirects the user back to the app (`/MyClaims`).</span></span> <span data-ttu-id="b21b5-113">使用者已通過驗證，並已載入 [我的宣告] 頁面。</span><span class="sxs-lookup"><span data-stu-id="b21b5-113">The user is authenticated, and the My Claims page is loaded.</span></span> <span data-ttu-id="b21b5-114">指定的名稱和姓氏宣告會出現在**使用者宣告**底下，並具有 Google 所提供的值。</span><span class="sxs-lookup"><span data-stu-id="b21b5-114">The given name and surname claims are present under **User Claims** with the values provided by Google.</span></span> <span data-ttu-id="b21b5-115">存取權杖會顯示在 [**驗證屬性**] 之下。</span><span class="sxs-lookup"><span data-stu-id="b21b5-115">The access token is displayed under **Authentication Properties**.</span></span>
